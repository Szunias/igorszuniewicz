<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug Language Buttons</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #1a1a1a;
      color: #fff;
    }
    
    .lang-btn {
      padding: 10px 20px;
      margin: 5px;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    
    .lang-btn.active {
      background: #10b981;
    }
    
    #log {
      background: #2a2a2a;
      padding: 20px;
      margin-top: 20px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 12px;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .log-entry {
      padding: 5px;
      margin: 2px 0;
      border-left: 3px solid #3b82f6;
      padding-left: 10px;
    }
    
    .log-capture {
      border-left-color: #ef4444;
    }
    
    .log-bubble {
      border-left-color: #10b981;
    }
    
    .log-lang {
      border-left-color: #f59e0b;
    }
  </style>
</head>
<body>
  <h1>üêõ Debug Language Buttons</h1>
  
  <h2>Przyciski Jƒôzyka:</h2>
  <div>
    <button class="lang-btn active" data-lang="en">EN</button>
    <button class="lang-btn" data-lang="pl">PL</button>
    <button class="lang-btn" data-lang="nl">NL</button>
  </div>
  
  <h2>Log Zdarze≈Ñ:</h2>
  <div id="log"></div>
  
  <script src="assets/js/simple-smooth-nav.js"></script>
  
  <script>
    const logContainer = document.getElementById('log');
    let eventCounter = 0;
    
    function addLog(message, type = 'info') {
      eventCounter++;
      const entry = document.createElement('div');
      entry.className = `log-entry log-${type}`;
      entry.textContent = `[${eventCounter}] ${new Date().toLocaleTimeString()}.${Date.now() % 1000} - ${message}`;
      logContainer.appendChild(entry);
      logContainer.scrollTop = logContainer.scrollHeight;
    }
    
    // Test 1: Dodaj listener w capture phase (jak simple-smooth-nav)
    document.addEventListener('click', (e) => {
      if (e.target.classList && e.target.classList.contains('lang-btn')) {
        addLog(`CAPTURE: Klikniƒôto przycisk ${e.target.dataset.lang}`, 'capture');
      }
    }, true); // capture phase
    
    // Test 2: Dodaj listener w bubble phase (jak translations.js)
    document.addEventListener('click', (e) => {
      if (e.target.classList && e.target.classList.contains('lang-btn')) {
        addLog(`BUBBLE: Klikniƒôto przycisk ${e.target.dataset.lang}`, 'bubble');
      }
    }, false); // bubble phase
    
    // Test 3: Dodaj listener bezpo≈õrednio do przycisk√≥w (jak translations.js)
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const lang = btn.dataset.lang;
        addLog(`BUTTON LISTENER: Zmiana jƒôzyka na ${lang}`, 'lang');
        
        // Symuluj zmianƒô jƒôzyka
        document.querySelectorAll('.lang-btn').forEach(b => {
          b.classList.remove('active');
        });
        btn.classList.add('active');
        
        addLog(`‚úì Jƒôzyk zmieniony na ${lang}`, 'lang');
      });
    });
    
    // Test 4: Sprawd≈∫ czy simple-smooth-nav jest za≈Çadowany
    if (window.__simpleSmoothNavInitialized) {
      addLog('‚úì simple-smooth-nav za≈Çadowany', 'info');
    } else {
      addLog('‚úó simple-smooth-nav NIE za≈Çadowany', 'info');
    }
    
    // Test 5: Sprawd≈∫ czy isLanguageButton dzia≈Ça
    const testBtn = document.querySelector('.lang-btn');
    if (testBtn) {
      // Nie mo≈ºemy bezpo≈õrednio wywo≈Çaƒá isLanguageButton (jest w closure),
      // ale mo≈ºemy sprawdziƒá czy console.log siƒô pojawia
      addLog('Kliknij przycisk jƒôzyka i sprawd≈∫ konsolƒô przeglƒÖdarki', 'info');
    }
    
    addLog('=== Test gotowy - kliknij przyciski jƒôzyka ===', 'info');
  </script>
</body>
</html>
