.music-modal .mm-timeline { position: relative; display:grid; grid-template-columns: auto 1fr auto; align-items:center; gap:10px; margin-top: 12px; }
.music-modal .mm-timeline .mm-time { color:#cfe7f8; font-variant-numeric: tabular-nums; font-weight:700; opacity:.9; }
.music-modal .mm-timeline .mm-seek { width:100%; appearance:none; -webkit-appearance:none; height:8px; border-radius:999px; background: linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.12)) padding-box, linear-gradient(90deg,#18bfef,#9a6cff) border-box; outline:none; border: 1px solid rgba(24,191,239,0.45); background-image: linear-gradient(90deg,#18bfef,#9a6cff); background-size: var(--mmseek, 0%) 100%; background-repeat: no-repeat; }
.music-modal .mm-timeline .mm-seek::-webkit-slider-thumb { -webkit-appearance:none; width:18px; height:18px; border-radius:50%; background:#eaf7ff; border:2px solid #18bfef; box-shadow:0 2px 8px rgba(0,0,0,0.3); }
.music-modal .mm-tooltip { position:absolute; top:-28px; transform: translateX(-50%); padding:2px 6px; border-radius:6px; font-size:.8rem; font-weight:700; color:#0b141a; background:#eaf7ff; border:1px solid rgba(24,191,239,0.6); box-shadow: 0 6px 18px rgba(0,0,0,0.25); opacity:0; pointer-events:none; z-index:5; }
.music-modal .mm-tooltip.show { opacity:1; }

/* Quality Toggle Button Styles */
.mi-controls {
    display: flex;
    align-items: center;
    gap: 8px;
}

.mi-quality-toggle {
    background: linear-gradient(135deg, #18bfef 0%, #9a6cff 100%);
    border: 1px solid rgba(255, 255, 255, 0.4);
    color: #ffffff;
    padding: 6px 10px;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 60px;
    height: 36px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    line-height: 1;
    position: relative;
    box-shadow: 0 4px 12px rgba(24, 191, 239, 0.3);
}


.mi-quality-toggle .quality-icon {
    font-size: 16px;
    line-height: 1;
    margin-bottom: 2px;
}

.mi-quality-toggle .quality-text {
    font-size: 10px;
    font-weight: 900;
    letter-spacing: 1px;
    line-height: 1;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.mi-quality-toggle .quality-hint {
    font-size: 7px;
    font-weight: 600;
    letter-spacing: 0.5px;
    line-height: 1;
    margin-top: 1px;
    opacity: 0.8;
}

.mi-quality-toggle:hover {
    background: linear-gradient(135deg, #20d0ff 0%, #a878ff 100%);
    border-color: rgba(255, 255, 255, 0.6);
    transform: translateY(-1px);
    color: #ffffff;
    box-shadow: 0 6px 16px rgba(24, 191, 239, 0.4);
}

.mi-quality-toggle.hq-active {
    background: linear-gradient(135deg, #f7d774 0%, #ffb347 100%);
    border-color: rgba(247, 215, 116, 0.8);
    color: #0b141a;
    font-weight: 800;
    box-shadow: 0 4px 12px rgba(247, 215, 116, 0.4);
}

.mi-quality-toggle.hq-active .quality-text {
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
}

.mi-quality-toggle.hq-active:hover {
    background: linear-gradient(135deg, #ffde88 0%, #ffc266 100%);
    border-color: rgba(247, 215, 116, 1);
    transform: translateY(-1px);
    color: #0b141a;
    box-shadow: 0 6px 16px rgba(247, 215, 116, 0.5);
}

/* Quality change toast notification */
.quality-toast {
    position: fixed;
    bottom: 100px;
    right: 20px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    padding: 15px 25px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 14px;
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
    z-index: 10000;
    transform: translateX(100%);
    opacity: 0;
    transition: all 0.3s ease;
}

.quality-toast.show {
    transform: translateX(0);
    opacity: 1;
}

.quality-toast::before {
    content: '🎧';
    margin-right: 8px;
    font-size: 16px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .mi-quality-toggle {
        min-width: 55px;
        height: 40px;
        padding: 6px 10px;
    }

    .mi-quality-toggle .quality-icon {
        font-size: 14px;
    }

    .mi-quality-toggle .quality-text {
        font-size: 8px;
    }

    .mi-quality-toggle .quality-hint {
        font-size: 6px;
    }

    .quality-toast {
        bottom: 80px;
        right: 10px;
        left: 10px;
        transform: translateY(100%);
    }

    .quality-toast.show {
        transform: translateY(0);
    }
}
/* Custom CSS for Igor Szuniewicz Portfolio Redesign */
/* Google Fonts now preloaded via <link> tags in HTML head (removed @import for performance) */

/* General Professional Enhancements */
body {
    font-family: 'Spline Sans', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    color: #ccc;
    font-weight: 300;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #0b141a !important;
}

/* Skip link (keyboard accessibility) */
.skip-link{position:absolute;top:-56px;left:0;background:#18bfef;color:#041018;padding:10px 16px;font-weight:800;z-index:2147483647;transition:top .2s ease;box-shadow:0 6px 18px rgba(0,0,0,.35);border-radius:0 0 8px 8px;text-decoration:none;}
.skip-link:focus,.skip-link:focus-visible{top:0;outline:2px solid #fff;}

/* Unified focus styles */
a:focus-visible, button:focus-visible, .button:focus-visible, [role="button"]:focus-visible, .chip:focus-visible, .slider-nav:focus-visible {outline:2px solid #f7d774; outline-offset:2px; border-radius:6px;}
/* Remove default outline where replaced */
a:focus, button:focus, .button:focus {outline:none;}

/* Enhanced focus for navigation */
#nav .links a:focus-visible {
  outline: 2px solid #f7d774;
  outline-offset: 2px;
  background: rgba(24, 191, 239, 0.2) !important;
  border-color: rgba(247, 215, 116, 0.6) !important;
  transform: translateY(-1px);
}

html { scrollbar-gutter: stable; }
html, body { background: #0b141a !important; }
/* Global downscale on desktop to reduce perceived size */
@media (min-width: 981px) {
  html { font-size: 12pt !important; }
}
@media (min-width: 1280px) {
  html { font-size: 11pt !important; }
}
/* Mobile tweaks */
@media (max-width: 480px) {
  #intro h1 { font-size: 2rem !important; }
  #intro .section-pills a { font-size: .9rem; padding: 8px 12px; }
  .slider { min-height: 480px; max-width: 95%; }
  .projects-controls { padding: 10px; }
  #projects-list { grid-template-columns: 1fr; }
}

/* Ensure wrapper and main don't mask interactive background */
#wrapper { background-color: transparent !important; }
#main { background-color: transparent !important; }
/* Hide theme background layers to show custom gradient/orbs/waves */
body > #wrapper > .bg, #wrapper > .bg, #wrapper > .bg.fixed { display: none !important; }

/* Extra: prevent noscript.css from setting background if noscript loads */
noscript body { background: transparent !important; }

/* Remove theme separators/bars under hero */
#main > * { border-top: 0 !important; }
hr, hr.major { display: none !important; }

/* Also kill posts grid borders that can create bars */
#main > .posts > article { border: 0 !important; }

/* Override theme preload overlay to use transparent background instead of gray */
#wrapper.fade-in:before {
  background: transparent !important;
  opacity: 0 !important;
}

/* Intro spacing to avoid overlap and raise heading */
#intro {
  padding-top: 0vh !important;
  position: relative;
  transform: translateY(-20vh);
  background: transparent !important;
  margin-bottom: 0 !important;
}
#intro h1 { margin-top: -0.2rem !important; margin-bottom: 0.2rem !important; }
#intro .section-pills {
  margin-top: 1.25rem !important;
  flex-wrap: wrap;
  row-gap: 8px;
  column-gap: 10px;
  justify-content: center;
}

/* Navigation Enhancements - Redesigned for better UX */
#nav ul.links li a, #nav .icons a {
    font-family: 'Outfit', sans-serif;
    font-weight: 700;
    color: #e0e0e0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Navbar - Modern glass morphism design */
#nav { 
  position: relative; top: auto; z-index: 100; 
  background: rgba(10, 16, 22, 0.85); 
  backdrop-filter: blur(12px) saturate(1.1); 
  border: 1px solid rgba(255, 255, 255, 0.08); 
  border-radius: 16px; 
  margin: 0 auto 2rem auto; 
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1); 
  width: calc(100% - 4rem); 
  max-width: 72rem; 
  overflow: visible !important; 
  padding: 1.25rem 2rem;
}
/* Disable costly filters and blends in fps-boost */
body.fps-boost #nav { backdrop-filter: none !important; }
body.fps-boost .bg-waves, body.fps-boost .bg-eq { display:none !important; }
body.fps-boost .bg-orbs .orb { filter: none !important; opacity: .12 !important; }
/* Hard FX kill switch */
body.fx-off .bg-waves, body.fx-off .bg-orbs, body.fx-off .bg-eq, body.fx-off .bg-glow { display:none !important; }
body.fx-off #nav { backdrop-filter: none !important; }
#nav .links { 
  display: flex; 
  justify-content: center; 
  align-items: center; 
  gap: 0.5rem; 
  flex-wrap: wrap;
  /* Isolate from icons to prevent layout interference */
  flex: 1;
  min-width: 0;
}

/* Ensure icons don't interfere with main navigation */
#nav .icons {
  flex: 0 0 auto;
  margin-left: auto;
}
#nav .links a {
  white-space: nowrap;
  font-size: 1.1rem;
  font-weight: 600;
  padding: 1rem 1.5rem;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.05);
  position: relative;
  overflow: hidden;
}
#nav .links a, #nav .icons a { 
  color: #e8f6fb;
  opacity: 0.9; 
  line-height: 1.3; 
}
#nav .links a:hover { 
  opacity: 1; 
  background: rgba(24, 191, 239, 0.15);
  border-color: rgba(24, 191, 239, 0.3);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(24, 191, 239, 0.2);
}

/* Layout tweaks */
#nav ul.links { gap: 0; }
#nav ul.links li { background: transparent !important; } /* keep theme layout */

/* Force proper navigation layout on all pages */
#nav {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}
#nav ul.links {
  display: flex !important;
  margin: 0 !important;
  padding: 0 !important;
}
#nav ul.icons {
  display: flex !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Desktop: keep links on a single row and take full width; place icons absolutely */
@media (min-width: 981px) {
  #nav { position: relative; }
  #nav .links { flex-wrap: nowrap; justify-content: center; }
  #nav .links a { flex: 0 0 auto; }
  #nav .icons {
    position: absolute;
    right: 70px;
    top: 50%;
    transform: translateY(-50%);
    margin: 0; padding: 0;
    gap: 12px;
  }
}

/* Modern button states - no underline, focus on button background */
#nav ul.links li a{ 
  position: relative; 
  text-decoration: none; 
}

/* Subtle glow effect on hover */
#nav ul.links li a::before{
  content: ''; 
  position: absolute; 
  inset: 0; 
  border-radius: 12px;
  background: linear-gradient(135deg, rgba(24,191,239,0.2), rgba(154,108,255,0.15));
  opacity: 0; 
  transition: opacity 0.3s ease;
  z-index: -1;
}
#nav ul.links li a:hover::before{ 
  opacity: 1; 
}

/* Active state - prominent and clear */
#nav ul.links li.active{ 
  background: transparent !important; 
}
#nav ul.links li.active a{ 
  background: linear-gradient(135deg, rgba(24,191,239,0.25), rgba(154,108,255,0.2)) !important;
  border-color: rgba(24,191,239,0.4) !important;
  color: #ffffff;
  box-shadow: 0 4px 16px rgba(24,191,239,0.3), inset 0 1px 0 rgba(255,255,255,0.2);
  transform: translateY(-1px);
}
#nav ul.links li.active a::before{ 
  opacity: 0; 
}

/* Nav icons */
#nav ul.links li a .nav-icon{ margin-right: 8px; opacity: .9; }

/* Projects preview on hover */
.nav-preview {
  position: fixed; inset: auto auto auto auto; transform: translateY(8px) scale(.97);
  pointer-events: none; z-index: 1000; opacity: 0; transition: opacity .2s ease, transform .25s ease;
  background: rgba(10,16,22,.58); border: 1px solid rgba(255,255,255,.06); border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,.18); padding: 8px; display: grid; grid-template-columns: repeat(3, 96px); gap: 8px;
  backdrop-filter: blur(5px) saturate(1.05);
}
.nav-preview.ribbon { display:block; padding: 6px 8px; }
.nav-preview.ribbon .nav-strip { display: grid; grid-template-columns: repeat(6, 56px); gap: 6px; }
.nav-preview.visible { opacity: 1; transform: translateY(0) scale(1); }
.nav-preview img{ width:96px; height:64px; object-fit: cover; border-radius: 8px; opacity: .72; filter: saturate(0.8); transition: opacity .18s ease, transform .18s ease; }
.nav-preview img:hover{ opacity: .95; transform: translateY(-1px); }

/* Icons hover micro-interaction */
#nav .icons a { opacity: 0.9; transform: translateY(0); transition: transform .15s ease, opacity .15s ease, filter .2s ease; }
#nav .icons a:hover { transform: translateY(-1px) scale(1.05); opacity: 1; filter: drop-shadow(0 0 6px rgba(24,191,239,0.35)); }

/* Language switcher */
.lang-switch { position: relative; display: inline-flex; align-items: center; margin-left: 10px; }
.lang-toggle { display: inline-flex; align-items: center; gap:10px; background: rgba(24,191,239,0.25); color:#05131a; border: 2px solid rgba(24,191,239,0.75); border-radius: 999px; padding: 8px 14px; font-weight:800; cursor:pointer; font-size: .95rem; text-transform: uppercase; letter-spacing:.4px; }
.lang-toggle:hover { background: rgba(24,191,239,0.38); }
.lang-toggle::after { content: '▾'; opacity: .9; font-weight: 900; }
.lang-flag { font-size: 1rem; line-height: 1; }
.lang-menu { position: absolute; right:0; top: 120%; background: rgba(10,16,22,0.98); border:1px solid rgba(255,255,255,0.1); border-radius:10px; box-shadow:0 12px 30px rgba(0,0,0,0.35); padding:6px; display:none; min-width: 180px; z-index: 2000; }
.lang-menu button { display:flex; align-items:center; gap:8px; background:transparent; color:#d9f2ff; border:0; padding:6px 10px; border-radius:8px; cursor:pointer; width:100%; text-align:left; }
.lang-menu button:hover { background: rgba(24,191,239,0.12); }
.lang-switch.open .lang-menu { display:block; }

/* Keep full labels visible */
#nav .links a { max-width: none !important; text-overflow: clip !important; overflow: visible !important; }

/* Language switch toast */
.lang-toast { position: fixed; top: 14px; left: 50%; transform: translateX(-50%) translateY(-16px); background: rgba(12,18,24,0.92); color:#e9f7ff; border:1px solid rgba(255,255,255,0.14); border-radius: 999px; padding: 8px 14px; font-weight:600; letter-spacing:.2px; opacity:0; pointer-events:none; transition: opacity .25s ease, transform .25s ease; z-index: 3000; box-shadow: 0 10px 24px rgba(0,0,0,0.35);} 
.lang-toast.visible { opacity:1; transform: translateX(-50%) translateY(0); }

/* Language badge (current language) */
.lang-badge { position: fixed; top: 14px; right: 16px; z-index: 99999; background: rgba(10,16,22,0.92); color:#e9f7ff; border:1px solid rgba(255,255,255,0.14); border-radius: 999px; padding: 6px 12px; font-weight:700; letter-spacing:.2px; box-shadow: 0 10px 24px rgba(0,0,0,0.35); display: inline-flex; align-items: center; gap: 8px; font-size: 0.98rem; line-height: 1; font-family: 'Segoe UI Emoji','Apple Color Emoji','Noto Color Emoji',system-ui,-apple-system,'Segoe UI',Roboto,sans-serif; }
.lang-badge .flag { width: 30px; height: 20px; display: inline-block; position: relative; top: -1px; }
.lang-badge .code { line-height: 1; }

/* Dropdown menu for top-right language badge */
.lang-badge-wrap { position: fixed; top: 14px; right: 16px; z-index: 2147483647; }
#lang-fixed { position: fixed; top: 14px; right: 16px; z-index: 2147483647; display: flex !important; gap: 8px; }

@media screen and (max-width: 980px) {
  #lang-fixed, .lang-badge-wrap {
    display: none !important;
  }
}
.lang-badge-menu { position: absolute; right: 0; top: 42px; background: rgba(10,16,22,0.98); border:1px solid rgba(255,255,255,0.14); border-radius: 10px; padding: 6px; min-width: 180px; box-shadow: 0 16px 40px rgba(0,0,0,0.45); opacity: 0; transform: translateY(-6px); pointer-events: none; transition: opacity .18s ease, transform .18s ease; }
.lang-badge-menu.open { opacity: 1; transform: translateY(0); pointer-events: auto; }
.lang-badge-menu button { width: 100%; display: flex; align-items: center; gap: 10px; background: rgba(24,191,239,0.18); color: #e9f7ff; border: 0; padding: 10px 12px; border-radius: 10px; cursor: pointer; font-weight: 800; letter-spacing: .2px; line-height: 1.2; }
.lang-badge-menu button:hover { background: rgba(24,191,239,0.35); }
.lang-badge-menu button.active { background: rgba(24,191,239,0.3); }
.lang-badge-menu .flag-svg { width: 26px; height: 16px; display: inline-block; position: relative; top: -2px; vertical-align: middle; }
.lang-badge-menu .label { color:#e9f7ff; opacity:.98; display:inline-flex; align-items:center; }

/* Responsive navigation for mobile */
@media screen and (max-width: 980px) {
  #nav { 
    display: block !important; 
    margin: 0 auto 1.5rem !important; 
    width: calc(100% - 2rem) !important; 
    opacity: 1 !important; 
    transform: none !important; 
    padding: 0.75rem 1rem;
    border-radius: 12px;
  }
  /* Wrap links on mobile for better touch targets */
  #nav .links { 
    flex-wrap: wrap; 
    gap: 0.5rem; 
    justify-content: center; 
    margin-bottom: 0.5rem;
    /* Ensure logical wrapping order */
    align-content: flex-start;
  }
  #nav .links::-webkit-scrollbar{ display: none; }
  #nav .links li { flex: 0 0 auto; }
  #nav .links a { 
    font-size: 0.9rem; 
    padding: 0.6rem 1rem;
    border-radius: 10px;
    min-width: auto;
    text-align: center;
    /* Ensure consistent sizing to prevent weird wrapping */
    flex: 0 0 auto;
    min-width: 80px;
  }
  
  /* Force proper order on mobile */
  #nav .links li:nth-child(1) { order: 1; } /* HOME */
  #nav .links li:nth-child(2) { order: 2; } /* ABOUT */
  #nav .links li:nth-child(3) { order: 3; } /* PROJECTS */
  #nav .links li:nth-child(4) { order: 4; } /* MUSIC */
  #nav .links li:nth-child(5) { order: 5; } /* EXTRA */
  #nav .links li:nth-child(6) { order: 6; } /* CONTACT */
  /* Social icons on their own row, centered */
  #nav .icons { 
    position: static; 
    display: flex; 
    width: 100%; 
    justify-content: center; 
    gap: 12px; 
    margin-top: 0.5rem; 
    padding-top: 0.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.08);
  }
  #nav .icons a {
    padding: 0.5rem;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
  }
  #nav .icons a:hover {
    background: rgba(24, 191, 239, 0.15);
    border-color: rgba(24, 191, 239, 0.3);
    transform: translateY(-1px);
  }
}

/* If main.js isn't loaded, prevent preload styles from hiding nav */
body.is-preload #intro:not(.hidden) + #header + #nav { opacity: 1 !important; transform: none !important; }

/* Ensure intro doesn't collide with nav on small screens */
@media (max-width: 980px){
  #intro { transform: none; margin-top: 0; }
}

/* One-time nudge to show language switch */
.lang-nudge { position: absolute; right: 0; top: 78px; background: rgba(12,18,24,0.95); color:#e9f7ff; border:1px solid rgba(255,255,255,0.14); padding:6px 10px; border-radius:10px; font-size:.85rem; display:flex; gap:8px; align-items:center; opacity:0; transform: translateY(-6px); transition: opacity .2s ease, transform .2s ease; pointer-events:none; box-shadow:0 12px 30px rgba(0,0,0,0.35); }
.nav-preview img[alt=""]{ object-fit: cover; }
.lang-nudge.show { opacity:1; transform: translateY(0); }
.lang-nudge .ico { font-size:1rem; }
.lang-nudge .arrow { opacity:.9; }

#nav ul.links li.active a, #nav ul.links li a:hover, #nav .icons a:hover {
    color: #18bfef; /* Accent color for active/hover states */
    border-bottom-color: #18bfef;
}

#header .logo {
    font-family: 'Outfit', sans-serif;
    font-weight: 900;
    color: #ffffff; /* Brighter logo text */
}

/* Audio marquee under logo on scroll top */
.logo-audio { position: fixed; left: 50%; transform: translateX(-50%); top: 110px; z-index: 50; pointer-events: none; opacity: 0; transition: opacity .3s ease, transform .3s ease; }
.logo-audio.visible { opacity: 1; transform: translateX(-50%) translateY(0); }
.logo-audio svg, .logo-audio canvas { width: min(96vw, 1280px); height: 220px; filter: drop-shadow(0 20px 50px rgba(24,191,239,0.45)); pointer-events: none; }
@media (max-width: 980px){ .logo-audio svg, .logo-audio canvas { width: 94vw; height: 200px; } }
@media (max-width: 980px){ .logo-audio svg { width: 92vw; } }

/* Introduction Section */
#intro {
    color: #f0f0f0; /* Brighter intro text */
    background-color: rgba(0,0,0,0.18); /* Softer on desktop */
    padding: 2em;
    border-radius: 8px;
}
#intro-section header.major { display:none; }
#intro-section .intro-hero { margin-top: 0; }
#intro-section .intro-headline { margin-top: .2rem; }
#intro-section .hero-cta { display:none !important; }
.intro-hero { padding-bottom: .4rem; }
@media (max-width: 980px){
  #intro { background-color: transparent !important; padding: 1.2em !important; }
}

/* Override intro background block to avoid dark bar behind hero after translate */
#intro { padding-left: 0 !important; padding-right: 0 !important; border-radius: 0 !important; }

/* Soft blend at the bottom of hero to prevent visible bar during scroll */
#intro:after { content: none !important; }

#intro h1 {
    font-family: 'Outfit', sans-serif;
    font-weight: 900;
    font-size: clamp(3.2rem, 6vw, 4.8rem);
    color: #ffffff;
    letter-spacing: 0.08em;
    position: relative;
    text-shadow: 0 10px 26px rgba(0,0,0,0.45);
}

/* hero floating name was removed intentionally */

#intro p {
    font-family: 'Inter', sans-serif;
    font-size: 1.15rem;
    color: #d0d0d0;
    max-width: 700px; /* Constrain width for readability */
    margin-left: auto;
    margin-right: auto;
    line-height: 1.8; /* Improved line height for Roboto */
}

/* Section Styling */
.major > h2, .post > header > h2, article > header > h2, h1, h2, h3, h4, h5, h6 {
    font-family: 'Outfit', sans-serif;
    font-weight: 700; /* Default heading weight */
    color: #ffffff; /* White headings for sections */
    letter-spacing: 0.05em; /* Adjusted letter spacing */
}

.major > p, .post > header > p, article > header > p, p {
    font-family: 'Spline Sans', sans-serif;
    color: #616161; /* Lighter paragraph text in section headers */
    line-height: 1.8; /* Improved line height for Roboto */
}



/* Ensure original theme's specific heading styles are also updated if they don't inherit */
body h1, body h2, body h3, body h4, body h5, body h6 {
    font-family: 'Outfit', sans-serif;
    font-weight: 700;
    letter-spacing: 0.05em;
}

body p {
    font-family: 'Spline Sans', sans-serif;
    line-height: 1.8;
}


/* Project Showcase - Thematic Grid (Placeholder, to be refined) */
.projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2em;
    padding: 2em 0;
}

@media screen and (max-width: 736px) {
    .projects-grid {
        gap: 1em;
    }
}
/* List view variant */
.projects-grid.projects-list{
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
}
.projects-grid.projects-list .project-card{
  display: grid;
  grid-template-columns: 200px 1fr;
  align-items: stretch;
}
.projects-grid.projects-list .project-card .image.fit img{
  height: 100%;
  object-fit: cover;
}
.projects-grid.projects-list .project-card-content{
  padding: 16px 18px;
}
/* Normalize slider images - maintain responsive layout */
#projects-showcase .slider .slide a img {
  width: 100%;
  height: auto;
  max-height: 400px;
  object-fit: cover;
  object-position: center;
  border-radius: 12px;
}

/* Special handling for NotToday GIF to ensure proper sizing */
#projects-showcase .slider .slide a img[src*="NotTodayGIF.gif"] {
  width: 100%;
  height: auto;
  max-height: 400px;
  object-fit: cover;
  object-position: center;
}

.project-card {
  position: relative;
  background: rgba(18, 24, 30, 0.72);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
    overflow: hidden;
  transform: translateY(0);
  transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
  box-shadow: 0 12px 30px rgba(0,0,0,0.25);
}
.project-card::before{
  content: '';
  position: absolute; inset: 0; pointer-events: none;
  background: linear-gradient(120deg, rgba(24,191,239,0.12), rgba(154,108,255,0.12));
  opacity: 0; transition: opacity 0.3s ease;
}
.project-card:hover { transform: translateY(-8px); box-shadow: 0 24px 50px rgba(0,0,0,0.35); border-color: rgba(24,191,239,0.35); }
.project-card:hover::before{ opacity: 1; }

.project-card .image.fit { margin: 0; }
.project-card .image.fit img { transition: transform 0.6s ease; border-bottom: 1px solid rgba(255,255,255,0.08); display:block; width:100%; height:auto; }
.project-card:hover .image.fit img { transform: scale(1.04); }

.project-card-content { padding: 1.75em; }

.project-card-content h3 { font-family: 'Outfit', sans-serif; color: #eaf7ff; margin-top: 0; font-weight: 700; letter-spacing: 0.02em; }
/* Projects: search & count */
.proj-search-wrap { min-width: 260px; }
.proj-search { width: 220px; max-width: 40vw; background: rgba(18,24,30,.6); border: 1px solid rgba(255,255,255,.1); border-radius: 10px; padding: 8px 10px; color: #eaf7ff; }
.proj-search::placeholder { color: rgba(233,247,255,.6); }
.proj-count { color: #bfe3ff; font-weight: 800; opacity: .9; }


.project-card-content p { font-family: 'Inter', sans-serif; color: #c7d3dd; font-size: 0.95rem; line-height: 1.6; }

.project-card .actions .button.small { background: #18bfef; color: #0b1218; border: none; box-shadow: 0 8px 20px rgba(24,191,239,0.25); transition: transform 0.2s ease, box-shadow 0.2s ease; }
.project-card .actions .button.small:hover { transform: translateY(-2px); box-shadow: 0 12px 26px rgba(24,191,239,0.35); }

/* CV Section */
#cv-section { padding: 3em 0; background-color: transparent; }
#cv-section .box {
  position: relative;
  background: rgba(20, 26, 32, 0.65);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 14px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.35);
  backdrop-filter: blur(6px);
  transform-style: preserve-3d;
  transition: transform 300ms ease, box-shadow 300ms ease, border-color 300ms ease;
}
#cv-section .box::before{
  content:''; position:absolute; inset:-1px; border-radius:16px; pointer-events:none;
  background: linear-gradient(120deg, rgba(24,191,239,0.25), rgba(154,108,255,0.25));
  opacity: 0; transition: opacity .3s ease;
}
#cv-section .box:hover{ box-shadow: 0 30px 70px rgba(0,0,0,0.45); border-color: rgba(24,191,239,0.35); }
#cv-section .box:hover::before{ opacity: 1; }
#cv-section .box .row > div { position: relative; }
#cv-section .box [data-tip] { position: relative; padding-right: 18px; cursor: pointer; }
#cv-section .box [data-tip]::after {
  content: '▾';
  position: absolute; right: 6px; top: 50%; transform: translateY(-50%) rotate(0deg);
  color: #cfe7f8; opacity: .7; font-weight: 900; transition: transform .2s ease, opacity .2s ease;
}
#cv-section .box [data-tip][aria-expanded="true"]::after { transform: translateY(-50%) rotate(180deg); opacity: .95; }
/* Hide legacy chips to reduce visual noise */
#cv-section .box .cv-more-chip { display: none !important; }

/* Smooth drawers under CV items */
.cv-drawer { max-height: 0; overflow: hidden; transition: max-height .35s ease, opacity .35s ease, transform .35s ease; opacity: 0; transform: translateY(-4px); }
.cv-drawer.open { max-height: 240px; opacity: 1; transform: translateY(0); }
.cv-drawer-inner { background: linear-gradient(180deg, rgba(12,18,26,0.85), rgba(12,18,26,0.75)); border: 1px solid rgba(24,191,239,0.2); border-radius: 10px; padding: 10px 12px; margin: 8px 0 2px 0; box-shadow: 0 12px 24px rgba(0,0,0,0.25); }
.cv-more-chip { cursor: pointer; }
.perf-lite .cv-more-chip { pointer-events: auto; }
.cv-drawer-text { color: #d9f2ff; font-size: 0.95rem; line-height: 1.4; }
.cv-drawer-link { display: inline-block; margin-top: 6px; color: #18bfef; font-weight: 700; }
#cv-section .box .row > div + div::before {
  content: '';
  position: absolute; left: -1px; top: 10%; bottom: 10%; width: 1px;
  background: linear-gradient(180deg, transparent, rgba(255,255,255,0.12), transparent);
}
#cv-section .box ul { list-style: none; padding-left: 0; }
#cv-section .box ul li { padding-left: 1.2rem; margin-bottom: 0.75rem; position: relative; }
#cv-section .box ul li::before { content: ''; width: 7px; height: 7px; border-radius: 50%; background: #18bfef; box-shadow: 0 0 0 2px rgba(24,191,239,0.2); position: absolute; left: 0; top: 0.8em; }

/* Timeline (Education) */
.cv-timeline { position: relative; margin: 0; padding-left: 0; }
.cv-timeline li { display: grid; grid-template-columns: 110px 1fr; gap: 12px; align-items: start; padding-left: 0; position: relative; }
.cv-timeline li::before { display: none; }
.cv-timeline .cv-time { color: #bfe3ff; font-weight: 800; letter-spacing: .2px; opacity: .95; white-space: nowrap; }
.cv-timeline .cv-item { position: relative; padding: 10px 12px; border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; background: rgba(12,18,26,0.5); box-shadow: 0 10px 24px rgba(0,0,0,0.25); }
.cv-timeline .cv-title { color: #eaf7ff; font-weight: 800; margin-bottom: 2px; }
.cv-timeline .cv-title { display:flex; align-items:center; gap:8px; }
.cv-logo {
  width: 28px;
  height: 28px;
  object-fit: contain;
  border-radius: 4px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  padding: 2px;
  display: inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
  vertical-align: middle;
  margin-right: 8px;
}

/* Force visibility for all CV section images - NUCLEAR OPTION */
.cv-timeline img,
.cv-item img,
.cv-title img,
img[alt*="Howest"],
img[alt*="DAE"],
img[alt*="Copernicus"],
img[alt*="Music School"],
img[src*="dae.jpg"],
img[src*="koperas.png"],
img[src*="muzyczna.png"] {
  display: inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
  max-width: 28px !important;
  max-height: 28px !important;
  width: 28px !important;
  height: 28px !important;
  margin: 0 8px 0 0 !important;
  padding: 2px !important;
  background: rgba(255,255,255,0.06) !important;
  border: 1px solid rgba(255,255,255,0.12) !important;
  border-radius: 4px !important;
  object-fit: contain !important;
  vertical-align: middle !important;
  position: static !important;
  z-index: auto !important;
  transform: none !important;
  filter: none !important;
}
.cv-timeline .cv-sub { color: #cfe7f8; font-size: .92rem; }
.cv-timeline li + li .cv-item { margin-top: 6px; }

/* Hover card for education details */
.cv-pop { position: fixed; left: -9999px; top: -9999px; opacity: 0; pointer-events: none; z-index: 3000; background: rgba(10,16,22,0.98); color:#eaf7ff; border:1px solid rgba(255,255,255,0.12); border-radius:12px; box-shadow:0 16px 40px rgba(0,0,0,0.45); padding:10px 12px; width: 280px; transition: opacity .15s ease, transform .15s ease; transform: translateY(6px); }
.cv-pop.visible { opacity: 1; transform: translateY(0); }
.cv-pop h6 { margin: 0 0 6px; font-family:'Outfit',sans-serif; font-weight:900; letter-spacing:.2px; }
.cv-pop ul { margin:0; padding-left: 1.1rem; }
.cv-pop ul li { margin: 0; color:#cfe7f8; }

/* Skills grid (static, scannable) */
.skills-title { margin-top: 1.2rem; color: #ffffff !important; }
.skills-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 12px; }

@media screen and (max-width: 736px) {
    .skills-grid {
        gap: 8px;
    }
}
.skill-card { display: grid; grid-template-columns: 40px 1fr; gap: 10px; align-items: start; background: rgba(12,18,26,0.55); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; padding: 12px; box-shadow: 0 12px 30px rgba(0,0,0,0.25); }
.skill-ico { color: #18bfef; font-size: 1.3rem; display: flex; align-items: center; justify-content: center; }
.skill-body h5 { margin: 0 0 4px; color: #eaf7ff; font-family: 'Outfit', sans-serif; font-weight: 800; letter-spacing: .2px; }
.skill-body ul.mini { margin: 0; padding-left: 1.1rem; color: #cfe7f8; font-size: .92rem; }

/* Remove interactive affordances from old concept */
#cv-section .box [data-tip] { cursor: default; padding-right: 0; }
#cv-section .box [data-tip]::after { display: none; }

/* Tooltip: disable old pseudo-element approach */
#cv-section .box [data-tip]{ position: relative; cursor: default; }
#cv-section .box [data-tip]::after,
#cv-section .box [data-tip]::before{ content: none !important; }

/* New floating popover (global) */
.tip-popover{ position: fixed; left: -9999px; top: -9999px; opacity: 0; pointer-events: auto;
  max-width: min(320px, 90vw); background: rgba(10,16,22,0.98); color: #d9f2ff; border: 1px solid rgba(255,255,255,0.08);
  border-radius: 10px; padding: 10px 12px; box-shadow: 0 16px 40px rgba(0,0,0,0.45); z-index: 3000; transition: opacity .18s ease; visibility: hidden; }
.tip-popover.visible{ opacity: 1; visibility: visible; }
.tip-popover .tip-action{ display:inline-block; margin-top:8px; background: linear-gradient(90deg,#18bfef,#9a6cff); color:#0b1218; font-weight:600; font-size:.85rem; padding:6px 12px; border-radius:999px; text-decoration:none; }
.tip-popover .tip-action:hover{ filter: brightness(1.05); }

/* Music page hover preview bubble */
.music-preview{ position: fixed; left: -9999px; top: -9999px; opacity: 0; pointer-events: none; z-index: 3000;
  background: rgba(10,16,22,0.97); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; box-shadow: 0 16px 40px rgba(0,0,0,0.45);
  width: 240px; padding: 10px; transition: opacity .15s ease; }
.music-preview.visible{ opacity: 1; }
.music-preview img{ width: 100%; height: 140px; object-fit: cover; border-radius: 8px; display:block; }
.music-preview .title{ margin-top: 8px; font-weight: 800; color: #eaf7ff; font-family: 'Outfit', sans-serif; }
.music-preview .desc{ margin-top: 4px; color: #c7d3dd; font-size: .9rem; }

/* List staggered reveal when section is in view */
#cv-section.post.in-view .box ul li{ opacity: 1; transform: translateY(0); transition: transform 500ms ease, opacity 500ms ease; }
#cv-section.post .box ul li{ opacity: 0; transform: translateY(10px); }

/* About page enhancements */
.about-hero { position: relative; padding: 2.5rem 1rem 1rem; text-align:center; }
.about-hero h2 { font-family: 'Outfit', sans-serif; font-weight:900; letter-spacing:.6px; }
.about-hero .roles { opacity:.9; font-weight:600; }
.about-hero .rays { position:absolute; inset:0; pointer-events:none; }
.about-hero .rays span { position:absolute; left:50%; top:50%; width:2px; height:160px; background: linear-gradient(180deg, rgba(24,191,239,0.8), rgba(154,108,255,0.0)); transform-origin: top center; filter: blur(.3px); opacity:.55; }
.about-hero .rays span:nth-child(odd){ height:200px; opacity:.7; }
.about-hero .rays span:nth-child(1){ transform:translate(-50%,-50%) rotate(0deg); }
.about-hero .rays span:nth-child(2){ transform:translate(-50%,-50%) rotate(22.5deg); }
.about-hero .rays span:nth-child(3){ transform:translate(-50%,-50%) rotate(45deg); }
.about-hero .rays span:nth-child(4){ transform:translate(-50%,-50%) rotate(67.5deg); }
.about-hero .rays span:nth-child(5){ transform:translate(-50%,-50%) rotate(90deg); }
.about-hero .rays span:nth-child(6){ transform:translate(-50%,-50%) rotate(112.5deg); }
.about-hero .rays span:nth-child(7){ transform:translate(-50%,-50%) rotate(135deg); }
.about-hero .rays span:nth-child(8){ transform:translate(-50%,-50%) rotate(157.5deg); }
.about-hero:after { content:''; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:220px; height:220px; border-radius:50%; background: radial-gradient(closest-side, rgba(24,191,239,0.24), rgba(24,191,239,0.0)); filter: blur(18px); }

.about-cards { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:16px; }
.about-card { background: rgba(12,18,26,0.6); border:1px solid rgba(255,255,255,0.08); border-radius:14px; padding:14px; box-shadow:0 16px 40px rgba(0,0,0,0.28); transition: transform .25s ease, box-shadow .25s ease; }
.about-card:hover{ transform: translateY(-4px); box-shadow:0 26px 60px rgba(0,0,0,0.34); border-color: rgba(24,191,239,0.28); }
.about-card h4 { font-family:'Poppins',sans-serif; font-weight:800; color: #ffffff !important; display:flex; align-items:center; gap:8px; }
.about-card ul li,
.about-card ul li strong,
.about-card p,
.about-card span {
    color: #ffffff !important;
    opacity: 1 !important;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5) !important;
}
#cv-section.post.in-view .box ul li:nth-child(1){ transition-delay: 60ms; }
#cv-section.post.in-view .box ul li:nth-child(2){ transition-delay: 120ms; }
#cv-section.post.in-view .box ul li:nth-child(3){ transition-delay: 180ms; }
#cv-section.post.in-view .box ul li:nth-child(4){ transition-delay: 240ms; }
#cv-section.post.in-view .box ul li:nth-child(5){ transition-delay: 300ms; }

/* Intro badges */
.intro-hero { text-align:center; }
.intro-hi { color:#eaf7ff; font-weight:900; letter-spacing:.2px; opacity:.95; margin: .1rem 0 .2rem; display:inline-flex; gap:8px; align-items:center; }
.intro-headline { color:#ffffff; font-family:'Outfit',sans-serif; font-weight:900; letter-spacing:.3px; font-size: clamp(1.3rem, 3.2vw, 2rem); margin: .2rem 0; }
.intro-sub { color:#cfe7f8; margin: 0 auto .5rem; }
.intro-pills { display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
.intro-pills span { display:inline-flex; align-items:center; gap:6px; padding:6px 12px; border-radius:999px; background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); color:#eaf7ff; font-weight:800; letter-spacing:.2px; }

/* Ensure text in CV box is visible - stronger overrides */
#cv-section .box ul li,
#cv-section .box ul li strong,
#cv-section .box ul li span,
#cv-section .box ul li a {
    color: #ffffff !important; /* Much brighter for better visibility */
    opacity: 1 !important;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5) !important;
}

#cv-section .box h4 {
    color: #ffffff !important; /* Ensure headings in box are visible */
    text-shadow: 0 1px 3px rgba(0,0,0,0.5) !important;
}

/* Override any theme styles that might be hiding text */
#cv-section .box * {
    color: inherit;
}


/* Scholarly Output Section Placeholder */
#scholarly-output-section {
    padding: 3em 0;
}

/* Extra-Curricular Section Placeholder */
#extra-curricular-section {
    padding: 3em 0;
    background-color: #222831;
    border-top: 1px solid #333;
    border-bottom: 1px solid #333;
}

/* Video Section Placeholder */
#video-section {
    padding: 3em 0;
    text-align: center;
}

.video-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
    max-width: 800px; /* Max width for the video */
    margin: 0 auto;
    border: 2px solid #333;
    border-radius: 8px;
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* QR Code Styling */
#qr-code-container {
    text-align: center;
    padding: 2em 0;
}

#qr-code-container img {
    max-width: 200px;
    border: 5px solid #fff;
    border-radius: 8px;
}

/* Footer Enhancements */
#footer {
    background-color: #161a1f; /* Darker footer */
    color: #eaf7ff;
}

#footer h3 {
    font-family: 'Montserrat', sans-serif; /* Headings/Nav font */
    color: #eaf7ff;
    font-weight: 700;
}

#footer .icons.alt a {
    color: #eaf7ff;
}

#footer .icons.alt a:hover {
    color: #18bfef;
}

#copyright {
    background-color: #101418; /* Even darker copyright */
    color: #888;
    font-family: 'Inter', sans-serif; /* Body font */
}

/* Responsive adjustments for slider if kept, or new project display */
@media screen and (max-width: 736px) {
    #intro h1 {
        font-size: 2.5rem;
    }
    .slider-nav.prev {
        left: 5px; /* Adjust slider nav for smaller screens */
    }
    .slider-nav.next {
        right: 5px; /* Adjust slider nav for smaller screens */
    }
}

/* Perf-lite mode: applied on mobile/slow devices via JS */
.perf-lite .bg-orbs,
.perf-lite .bg-waves,
.perf-lite .bg-eq,
.perf-lite .bg-glow { display: none !important; }
.perf-lite .bg-gradient { animation: none !important; }
.perf-lite #nav { backdrop-filter: none !important; background: rgba(10,16,22,0.92) !important; }
.perf-lite .project-card,
.perf-lite .slider-nav,
.perf-lite .explore-more,
.perf-lite .about-card,
.perf-lite .projects-controls { box-shadow: none !important; }
.perf-lite .project-card:hover,
.perf-lite .about-card:hover { transform: none !important; }
.perf-lite .button:hover, .perf-lite .button:focus { transform: none !important; box-shadow: none !important; }

/* Utility class for sections */
.content-section {
    padding: 4em 0;
    border-bottom: 1px solid #303841; /* Separator line between sections */
}

.content-section:last-child {
    border-bottom: none;
}

.content-section .major {
    margin-bottom: 3em;
}

/* Ensure button text also uses a clear font if needed */
.button {
    font-family: 'Outfit', sans-serif; /* Headings/Nav font for buttons */
    font-weight: 700;
    letter-spacing: 0.05em;
}

/* Slider specific text */
.slide h3 {
    font-family: 'Outfit', sans-serif;
    font-weight: 700;
    margin: 10px 0 15px 0;
    font-size: 1.5em; 
    color: #18bfef; 
    text-align: center;
    z-index: 4;
}

.slide-description {
    font-family: 'Inter', sans-serif;
    font-size: 0.95em;
    color: #c0c0c0;
    text-align: center;
    margin: 10px 0;
    z-index: 4;
    max-width: 90%;
}

#bgColor {
 color: #212931;
}

#bgWhite {
    color: #c0c0c0;
}

#Center{
    margin-left: auto;
    margin-right: auto;
}

/* cleaned */

/* Image sizing fixes (desktop): ensure full-width images for .image.fit */
.image.fit {
    width: 100%;
    max-width: 100%;
}

/* Keep images responsive within cards and posts */
.project-card .image.fit,
.posts .image.fit {
    width: 100%;
}

/* Layout enhancements for wider screens */
@media (min-width: 1200px) {
  #main {
    max-width: 72rem;
  }
}

/* Projects page polish */
.projects-page header.major h2 { font-family: 'Outfit', sans-serif; font-weight: 900; letter-spacing: .5px; }
.projects-controls { 
  background: rgba(12,18,26,0.6);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px; padding: 12px 14px; margin-bottom: 1.25rem !important;
  box-shadow: 0 16px 40px rgba(0,0,0,0.28);
}
.projects-controls strong { color: #d9f2ff; margin-right: 8px; display:flex; align-items:center; }
.projects-controls > div { display:flex; align-items:center; gap:8px; flex-wrap: wrap; }
.projects-controls .button.small { background: rgba(24,191,239,0.18); border: 1px solid rgba(24,191,239,0.45); color:#eaf7ff; border-radius: 999px; padding: 0 12px; font-weight: 800; letter-spacing:.2px; margin-right: 6px; height: 34px; display:inline-flex; align-items:center; }
.projects-controls .button.small.primary, .projects-controls .button.small:hover { background: rgba(24,191,239,0.3); }
.projects-controls select { background: rgba(10,16,22,0.85); color:#eaf7ff; border:1px solid rgba(255,255,255,0.12); border-radius: 10px; padding: 6px 10px; height: 34px; line-height: 1.2; }

#projects-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 18px; }
#projects-list .project-card { 
  background: rgba(12,18,26,0.55); border:1px solid rgba(255,255,255,0.08); border-radius: 14px; overflow: hidden;
  box-shadow: 0 18px 40px rgba(0,0,0,0.28); transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
#projects-list .project-card:hover { transform: translateY(-4px); box-shadow: 0 26px 60px rgba(0,0,0,0.34); border-color: rgba(24,191,239,0.28); }
#projects-list .project-card .image.fit { position: relative; }
#projects-list .project-card .image.fit::before{ content:''; display:block; width:100%; padding-top: 62%; }
#projects-list .project-card .image.fit img { position:absolute; inset:0; width:100%; height:100%; object-fit: cover; object-position: center; border-radius: 0; }
#projects-list .project-card .project-card-content { padding: 12px 14px; }
#projects-list .project-card h3 { font-family: 'Outfit', sans-serif; font-weight: 800; color:#eaf7ff; margin: 0 0 6px; font-size: 1.05rem; }
#projects-list .project-card p { color:#cfe7f8; font-size: .92rem; }
#projects-list .project-card .actions { margin-top: 8px; }
#projects-list .project-card .button.small { background: linear-gradient(90deg,#18bfef,#9a6cff); border: none; color:#07131a; font-weight:900; border-radius:999px; padding:7px 12px; }

/* Minimalist Projects Showcase (homepage) */
#projects-showcase header.major h2 { font-family:'Outfit',sans-serif; font-weight:900; letter-spacing:.5px; font-size: clamp(1.3rem, 2.6vw, 2.1rem); margin-bottom: .15rem; }
#projects-showcase header.major p { color:#cfe7f8; opacity:.95; font-size: clamp(.88rem, 1.2vw, .98rem); margin-top: .15rem; }
#projects-showcase .projects-grid { gap: 16px; }
#projects-showcase .project-card { background: rgba(12,18,26,0.55); border:1px solid rgba(255,255,255,0.08); box-shadow: 0 10px 26px rgba(0,0,0,0.24); transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; cursor: pointer; }
#projects-showcase .project-card:hover { transform: translateY(-3px); box-shadow: 0 18px 40px rgba(0,0,0,0.28); border-color: rgba(24,191,239,0.28); }
#projects-showcase .project-card .project-card-content { padding: 12px 12px 14px; }
#projects-showcase .project-card h3 { font-family:'Outfit',sans-serif; font-weight:800; margin: 0 0 6px; color:#eaf7ff; font-size: clamp(1.05rem, 2vw, 1.25rem); }
#projects-showcase .project-card p { color:#cfe7f8; font-size: .92rem; line-height: 1.5; margin: 0; }
#projects-showcase .project-card .actions { display:none; }

/* Stretched link: make whole card clickable */
.stretched-link { position:absolute; inset:0; z-index: 5; color: inherit; text-indent: -9999px; overflow:hidden; }
.project-card { position: relative; }

/* Unify image aspect for showcase cards */
#projects-showcase .project-card .image.fit { position: relative; }
#projects-showcase .project-card .image.fit::before{ content:''; display:block; width:100%; padding-top: 62%; }
#projects-showcase .project-card .image.fit img { position:absolute; inset:0; width:100%; height:100%; object-fit: cover; object-position: center; border-bottom: 1px solid rgba(255,255,255,0.08); }
/* Adjust music grid to accommodate year column on smaller screens */
@media (max-width: 640px){ .music-item { grid-template-columns: 48px 1fr auto; } .music-item .mi-cover{ width:48px; height:48px; } .music-item .mi-controls{ justify-self:start; } .music-item .mi-controls .mi-play{ order:-1; } }

/* (removed) global dim overlay */

/* Music page styles */
.music-page header.major h2 { font-family:'Poppins',sans-serif; font-weight:900; }
.album-wall { position: relative; height: 320px; overflow: hidden; border-radius: 16px; margin-bottom: 120px; border: 1px solid rgba(255,255,255,0.06); }
.album-wall::before { content:''; position:absolute; inset:-40px; background: radial-gradient(1200px 600px at 10% 30%, rgba(24,191,239,0.08), transparent 60%), radial-gradient(1200px 600px at 80% 20%, rgba(154,108,255,0.08), transparent 60%); filter: blur(10px); }
.album-wall::after { content:''; position:absolute; inset:0; background: linear-gradient(180deg, rgba(10,16,22,0.0) 0%, rgba(10,16,22,0.65) 70%, rgba(10,16,22,0.9) 100%); }
.album-wall .album-row { position:absolute; left: -60px; right: -60px; overflow:hidden; padding: 16px 0; }
.album-wall .album-row .strip { display:flex; gap:40px; will-change: transform; }
.album-wall .album-row .strip .set { display:flex; gap:14px; }
.album-wall .album-row.r1 .strip { animation: none; }
.album-wall .album-row.r2 .strip { animation: none; }
.album-wall .album-row.r1 { top: 26px; }
.album-wall .album-row.r2 { bottom: 26px; }
.album-wall .tile { width: 180px; height: 180px; border-radius: 14px; overflow:hidden; box-shadow: 0 16px 36px rgba(0,0,0,0.35); transform: translateZ(0); }
.album-wall .tile img { width:100%; height:100%; object-fit:cover; display:block; filter: saturate(1.05) contrast(1.03); }
.album-wall:hover .tile { will-change: transform; }
/* JS-driven marquee for perfect seamless loop */
.music-page { position: relative; }
.music-page header.major { position: relative; z-index: 2; margin-top: -220px; background: rgba(10,16,22,0.55); border: 1px solid rgba(255,255,255,0.10); border-radius: 14px; padding: 14px 16px; backdrop-filter: blur(6px); max-width: 820px; }
.music-quality-info { background: linear-gradient(135deg, rgba(24,191,239,0.2) 0%, rgba(154,108,255,0.2) 100%); border: 1px solid rgba(24,191,239,0.5); border-radius: 12px; padding: 16px 20px; margin: 20px auto; max-width: 820px; text-align: center; color: #ffffff; font-size: 1em; line-height: 1.5; box-shadow: 0 8px 24px rgba(24,191,239,0.2); backdrop-filter: blur(10px); }
.music-quality-info strong { color: #18bfef; font-weight: 800; text-shadow: 0 1px 2px rgba(0,0,0,0.3); }
@media (max-width: 980px){
  .album-wall { height: 240px; margin-bottom: 100px; }
  .album-wall .tile { width: 140px; height: 140px; }
  .music-page header.major { margin-top: -180px; max-width: 92%; }
  .music-quality-info { max-width: 92%; font-size: 0.9em; padding: 14px 16px; }
}
.music-controls { display:grid; grid-template-columns: 1fr; align-items:start; gap:14px; background: rgba(12,18,26,0.6); border:1px solid rgba(255,255,255,0.08); border-radius:12px; padding:12px 14px; box-shadow:0 16px 40px rgba(0,0,0,0.28); margin-bottom: 1rem; }
.music-controls .left, .music-controls .right { display:flex; align-items:flex-start; gap:10px; flex-wrap:wrap; width:100%; justify-content:center; }
.music-controls .right { align-self:start; justify-content:flex-start; }
.music-finder { display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; justify-items:center; gap:10px 12px; background: rgba(10,16,22,0.65); border:1px solid rgba(255,255,255,0.12); border-radius:12px; padding:12px 14px; width:100%; margin: 0 auto; }
.music-finder .mf-label { grid-column: 1 / span 3; font-family:'Outfit',sans-serif; font-weight:900; letter-spacing:.3px; color:#ffffff; opacity:.98; white-space:nowrap; text-align:center; }
.music-finder .gw-toggle { grid-column: 1 / span 3; background: linear-gradient(90deg,#18bfef,#9a6cff); color:#07131a; border:none; border-radius:999px; padding:8px 14px; font-weight:900; cursor:pointer; box-shadow:0 8px 18px rgba(24,191,239,0.25); }
.music-finder .gw-toggle:hover { filter: brightness(1.05); }
.music-finder .genre-wheel, .music-finder .music-tags { grid-column: 1 / span 3; }
.genre-wheel { position: relative; width: 220px; height: 220px; margin: 8px auto 0; }
.genre-wheel svg { width: 220px; height: 220px; display: block; }
/* Chips hidden by default; revealed on toggle */
.music-finder .music-tags { display: none; }
.music-finder .music-tags.open { display: flex; }
.genre-wheel .gw-node { cursor: pointer; }
.genre-wheel circle { fill: rgba(12,18,26,0.72); stroke: rgba(255,255,255,0.14); stroke-width: 2; filter: drop-shadow(0 8px 18px rgba(0,0,0,0.35)); }
.genre-wheel .gw-center circle { fill: url(#gwGrad) #18bfef; stroke: rgba(255,255,255,0.1); stroke-width: 0; filter: drop-shadow(0 10px 22px rgba(24,191,239,0.35)); animation: wheelPulse 2400ms ease-in-out infinite; }
.genre-wheel text { font-family:'Outfit',sans-serif; font-weight:900; font-size: 12px; text-anchor: middle; dominant-baseline: middle; pointer-events: none; fill:#eaf7ff; }
.genre-wheel .gw-center text { fill:#07131a; font-weight:900; }
/* Accessibility: remove default outline box and add gold focus glow */
.genre-wheel .gw-node { outline: none; }
.genre-wheel .gw-node:focus circle,
.genre-wheel .gw-node:hover circle { stroke: rgba(247,215,116,0.95); filter: drop-shadow(0 0 18px rgba(247,215,116,0.55)); }
@keyframes wheelPulse { 0%{ transform: scale(1); } 50%{ transform: scale(1.03); } 100%{ transform: scale(1); } }

/* Genre wheel: per‑tag colors and hover animations */
/* Base colors per tag */
.genre-wheel .gw-node[data-tag="electronic"] circle { fill: rgba(154,108,255,0.20); stroke: rgba(154,108,255,0.65); }
.genre-wheel .gw-node[data-tag="film"] circle { fill: rgba(255,166,0,0.18); stroke: rgba(255,166,0,0.65); }
.genre-wheel .gw-node[data-tag="metal"] circle { fill: rgba(255,0,72,0.18); stroke: rgba(255,0,72,0.65); }
.genre-wheel .gw-node[data-tag="playful"] circle { fill: rgba(255,110,169,0.20); stroke: rgba(255,110,169,0.65); }
.genre-wheel .gw-node[data-tag="score"] circle { fill: rgba(88,182,255,0.18); stroke: rgba(88,182,255,0.65); }
.genre-wheel .gw-node[data-tag="single"] circle { fill: rgba(210,210,210,0.18); stroke: rgba(210,210,210,0.65); }
/* Brighter labels on hover */
.genre-wheel .gw-node:hover text, .genre-wheel .gw-node:focus text { fill:#ffffff; filter: drop-shadow(0 0 8px rgba(255,255,255,0.65)); }

/* Electronic: electric dash glow */
.genre-wheel .gw-node[data-tag="electronic"]:hover circle,
.genre-wheel .gw-node[data-tag="electronic"]:focus circle {
  stroke: #b89bff;
  stroke-width: 3.5;
  stroke-dasharray: 4 6;
  animation: elecDash 0.6s linear infinite;
  fill: rgba(154,108,255,0.34);
  filter: drop-shadow(0 0 14px rgba(154,108,255,0.75)) drop-shadow(0 0 22px rgba(24,191,239,0.55));
}
@keyframes elecDash { to { stroke-dashoffset: -24; } }

/* Film: subtle flicker like projector */
.genre-wheel .gw-node[data-tag="film"]:hover circle,
.genre-wheel .gw-node[data-tag="film"]:focus circle {
  animation: filmFlicker 0.5s steps(2,end) infinite;
  filter: drop-shadow(0 0 14px rgba(255,205,120,0.75));
}
@keyframes filmFlicker {
  0% { fill: rgba(255,166,0,0.26); stroke-width: 2.4; }
  50% { fill: rgba(255,210,90,0.38); stroke-width: 3.4; }
  100% { fill: rgba(255,166,0,0.26); stroke-width: 2.4; }
}

/* Metal: heavy pulse + slight shake */
.genre-wheel .gw-node[data-tag="metal"]:hover,
.genre-wheel .gw-node[data-tag="metal"]:focus {
  animation: metalShake 0.28s ease-in-out infinite alternate;
}
@keyframes metalShake {
  0% { transform: translate(0,0) rotate(0deg); }
  100% { transform: translate(1.5px,-1.5px) rotate(-1.2deg); }
}
.genre-wheel .gw-node[data-tag="metal"]:hover circle,
.genre-wheel .gw-node[data-tag="metal"]:focus circle {
  stroke-width: 3.5;
  fill: rgba(255,0,72,0.28);
  filter: drop-shadow(0 0 16px rgba(255,0,72,0.75));
}

/* Playful: bouncy scale */
.genre-wheel .gw-node[data-tag="playful"]:hover,
.genre-wheel .gw-node[data-tag="playful"]:focus {
  animation: playfulBounce 600ms cubic-bezier(.2,.8,.2,1) infinite alternate;
}
@keyframes playfulBounce { from { transform: scale(1); } to { transform: scale(1.12); } }

/* Score: calm blue glow pulse */
.genre-wheel .gw-node[data-tag="score"]:hover circle,
.genre-wheel .gw-node[data-tag="score"]:focus circle {
  animation: scoreGlow 1.1s ease-in-out infinite;
  filter: drop-shadow(0 0 18px rgba(88,182,255,0.8));
}
@keyframes scoreGlow { 0%{ stroke-width:2.2; } 50%{ stroke-width:3.6; } 100%{ stroke-width:2.2; } }

/* Single: soft silver shine (dash sweep) */
.genre-wheel .gw-node[data-tag="single"]:hover circle,
.genre-wheel .gw-node[data-tag="single"]:focus circle {
  stroke-dasharray: 6 10;
  stroke-width: 3;
  animation: singleSweep 0.8s linear infinite;
  filter: drop-shadow(0 0 14px rgba(220,220,220,0.65));
}
@keyframes singleSweep { to { stroke-dashoffset: -48; } }
.music-controls .right label span { color:#eaf7ff; font-weight:800; letter-spacing:.2px; }
.music-controls select { background: rgba(10,16,22,0.85); color:#eaf7ff; border:1px solid rgba(255,255,255,0.18); min-width: 220px; }
.music-controls input[type="search"] { background: rgba(10,16,22,0.85); color:#eaf7ff; border:1px solid rgba(255,255,255,0.12); border-radius: 10px; padding: 8px 10px; height: 36px; line-height: 1.2; }
.music-controls input[type="search"]::placeholder { color:#cfe7f8; opacity:.95; }
.music-tags { display:flex; gap:10px; flex-wrap:wrap; }
.music-tags .chip { display:inline-flex; align-items:center; gap:8px; padding:8px 14px; border-radius:999px; background: rgba(10,16,22,0.45); border:1px solid rgba(255,255,255,0.55); color:#ffffff; font-weight:900; letter-spacing:.4px; cursor:pointer; opacity:1; text-shadow: 0 1px 0 rgba(0,0,0,0.55); }
.music-tags .chip[data-tag="metal"]{ background: rgba(255,0,72,0.24); border-color: rgba(255,0,72,0.65); }
.music-tags .chip[data-tag="film"]{ background: rgba(255,166,0,0.22); border-color: rgba(255,166,0,0.65); }
.music-tags .chip[data-tag="game"]{ background: rgba(24,191,239,0.24); border-color: rgba(24,191,239,0.65); }
.music-tags .chip[data-tag="electronic"]{ background: rgba(154,108,255,0.24); border-color: rgba(154,108,255,0.65); }
.music-tags .chip[data-tag="playful"]{ background: rgba(255,110,169,0.24); border-color: rgba(255,110,169,0.65); }
.music-tags .chip[data-tag="score"]{ background: rgba(88,182,255,0.24); border-color: rgba(88,182,255,0.65); }
.music-tags .chip[data-tag="single"]{ background: rgba(210,210,210,0.24); border-color: rgba(210,210,210,0.65); }
.music-tags .chip:hover { filter: brightness(1.05); }
.music-tags .chip.active { background: rgba(24,191,239,0.55); border-color: rgba(24,191,239,0.9); color:#07131a; box-shadow: 0 8px 22px rgba(24,191,239,0.35) inset; }
 .music-list { position: relative; display:grid; grid-template-columns: 1fr; gap:10px; }
.music-group { margin-top: 18px; }
.music-group .group-title { font-family:'Poppins',sans-serif; font-weight:900; color:#eaf7ff; opacity:.9; margin: 10px 0 8px; letter-spacing:.3px; display:inline-flex; align-items:center; gap:10px; padding:6px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.08); }
.group-title .emoji { font-size: 1.1em; line-height: 1; }
.group-title.badge-electronic { background: rgba(154,108,255,0.12); border-color: rgba(154,108,255,0.35); color:#e9e3ff; }
.group-title.badge-game { background: rgba(24,191,239,0.12); border-color: rgba(24,191,239,0.35); color:#e9f7ff; }
.group-title.badge-film { background: rgba(255,166,0,0.12); border-color: rgba(255,166,0,0.35); color:#fff3d9; }
.group-title.badge-metal { background: rgba(255,0,72,0.12); border-color: rgba(255,0,72,0.35); color:#ffd9e3; }
.group-title.badge-playful { background: rgba(255,110,169,0.12); border-color: rgba(255,110,169,0.35); color:#ffe6f1; }
.group-title.badge-score { background: rgba(88,182,255,0.12); border-color: rgba(88,182,255,0.35); color:#e4f2ff; }
.group-title.badge-single { background: rgba(210,210,210,0.12); border-color: rgba(210,210,210,0.35); color:#f1f1f1; }
.music-item { display:grid; grid-template-columns: 64px 1fr auto auto; gap:12px; align-items:center; background: rgba(12,18,26,0.55); border:1px solid rgba(255,255,255,0.08); border-radius:12px; padding:10px; transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease; }
.music-item { position: relative; }
.music-item .mi-hint { position:absolute; right:10px; bottom:10px; background: rgba(24,191,239,0.18); border:1px solid rgba(24,191,239,0.45); color:#eaf7ff; border-radius:999px; padding:4px 8px; font-size:.78rem; font-weight:800; opacity:0; transform: translateY(4px); transition: opacity .15s ease, transform .15s ease; pointer-events:none; }
.music-item:hover .mi-hint { opacity:1; transform: translateY(0); }
.music-item:hover { transform: translateY(-2px); box-shadow: 0 26px 60px rgba(0,0,0,0.34); border-color: rgba(24,191,239,0.28); }
.music-item .mi-cover { width:64px; height:64px; object-fit:cover; border-radius:8px; }
.music-item .mi-meta { display:flex; flex-direction:column; }
.music-item .mi-title { font-family:'Poppins',sans-serif; font-weight:800; color:#eaf7ff; }
.music-item .mi-sub { color:#cfe7f8; font-size:.92rem; }
.music-item .mi-tags { display:flex; gap:6px; flex-wrap:wrap; margin-top:4px; }
.music-item .mi-tags span { font-size:.78rem; background: rgba(24,191,239,0.18); border:1px solid rgba(24,191,239,0.45); color:#eaf7ff; border-radius:999px; padding:2px 8px; font-weight:700; letter-spacing:.2px; }
/* removed card mini timeline per request */
.music-item .mi-year { color:#bfe3ff; opacity:.95; font-weight:800; letter-spacing:.2px; min-width:56px; text-align:right; }
.music-item .mi-play { width:40px; height:40px; display:inline-flex; align-items:center; justify-content:center; background: linear-gradient(90deg,#18bfef,#9a6cff); border:none; color:#07131a; font-weight:900; border-radius:12px; padding:0; cursor:pointer; box-shadow: 0 10px 24px rgba(24,191,239,0.25); }
.music-item.playing { border-color: rgba(247,215,116,0.9); box-shadow: 0 22px 68px rgba(247,215,116,0.35), 0 0 0 1px rgba(247,215,116,0.55) inset, 0 0 24px rgba(247,215,116,0.25); transform: translateY(-2px) scale(1.01); z-index: 1300; animation: playingGlow 1600ms ease-in-out infinite alternate; }
.music-item.playing::after { content: attr(data-nowplaying); position:absolute; left:12px; top:-12px; background: linear-gradient(90deg,#f7d774,#f1b85a); color:#2a210f; border:1px solid rgba(247,215,116,0.9); border-radius:999px; padding:2px 8px; font-size:.72rem; font-weight:900; letter-spacing:.2px; box-shadow: 0 6px 14px rgba(0,0,0,0.25); }
.music-item.playing .mi-title { color:#fff7d6; }
.music-item.playing .mi-cover { box-shadow: 0 14px 30px rgba(247,215,116,0.35); }

@keyframes playingGlow {
  0% { box-shadow: 0 18px 56px rgba(247,215,116,0.28), 0 0 0 1px rgba(247,215,116,0.45) inset, 0 0 18px rgba(247,215,116,0.18); }
  100% { box-shadow: 0 26px 78px rgba(247,215,116,0.42), 0 0 0 1px rgba(247,215,116,0.65) inset, 0 0 32px rgba(247,215,116,0.28); }
}

/* Slide-out details panel for music items */
/* Old inline panel (not used now) */
.music-details { display:none; }

/* Right-side modern slide-out panel */
/* (unused) sidepanel retained for possible reuse */
.music-sidepanel { display:none; }
.music-sidepanel .msp-inner { display: grid; grid-template-columns: 96px 1fr; gap: 12px; align-items: center; height: 100%; padding: 10px 12px; }
.music-sidepanel .msp-cover img { width: 96px; height: calc(100% - 6px); object-fit: cover; border-radius: 10px; box-shadow: 0 10px 22px rgba(0,0,0,0.3); }
.music-sidepanel .msp-title { font-family:'Poppins',sans-serif; font-weight:900; color:#eaf7ff; letter-spacing:.2px; font-size: 1rem; line-height:1.2; display:-webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow:hidden; }
.music-sidepanel .msp-artist { color:#cfe7f8; font-size:.92rem; line-height:1.2; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.music-sidepanel .msp-tags { color:#bfe3ff; font-weight:800; letter-spacing:.25px; opacity:.95; font-size:.8rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.music-sidepanel .msp-actions { display:flex; gap:8px; align-items:center; justify-content:flex-start; flex-wrap:wrap; }
.music-sidepanel .msp-actions .button.small { background: linear-gradient(90deg,#18bfef,#9a6cff); border:none; color:#07131a; font-weight:900; border-radius:999px; padding:7px 12px; }

@media (max-width: 860px) {
  .music-sidepanel { display:none; }
}

/* Big modal for track details */
.music-modal { position: fixed; inset: 0; z-index: 4000; pointer-events: none; opacity: 0; transform: scale(0.98); transition: opacity .22s ease, transform .22s ease; }
.music-modal.open { opacity: 1; transform: scale(1); pointer-events: auto; }
.music-modal .mm-backdrop { position: absolute; inset: 0; background: rgba(6,10,14,0.72); backdrop-filter: blur(6px); }
.music-modal .mm-dialog { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: min(92vw, 960px); max-height: 82vh; background: linear-gradient(135deg, rgba(24,191,239,0.12), rgba(154,108,255,0.10) 60%, rgba(10,16,22,0.92)); border: 1px solid rgba(24,191,239,0.35); border-radius: 16px; box-shadow: 0 30px 80px rgba(0,0,0,0.55), inset 0 0 0 1px rgba(255,255,255,0.05); display: grid; grid-template-columns: 340px 1fr; gap: 16px; padding: 16px; }
.music-modal .mm-close { position: absolute; right: 12px; top: 10px; width: 40px; height: 40px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.28); background: rgba(255,255,255,0.12); color:#07131a; font-weight: 900; cursor: pointer; display:inline-flex; align-items:center; justify-content:center; font-size: 22px; }
.music-modal .mm-close:hover { filter: brightness(1.1); box-shadow: 0 8px 20px rgba(0,0,0,0.35); }
.music-modal .mm-left img { width: 100%; height: auto; border-radius: 12px; box-shadow: 0 16px 40px rgba(0,0,0,0.35); }
.music-modal .mm-right { display: grid; grid-template-rows: auto auto auto 1fr; align-content: start; }
.music-modal .mm-title { font-family:'Poppins',sans-serif; font-weight:900; color:#eaf7ff; font-size: clamp(1.2rem, 2.4vw, 2rem); margin: 6px 0; }
.music-modal .mm-artist { color:#cfe7f8; font-size: 1rem; }
.music-modal .mm-tags { color:#bfe3ff; font-weight:800; letter-spacing:.25px; opacity:.95; margin-top: 6px; }
.music-modal .mm-desc { color:#d9f2ff; opacity:.95; margin-top: 10px; line-height:1.6; }
.music-modal .mm-actions { margin-top: 16px; display:flex; align-items:center; gap:10px; }
.music-modal .mm-actions .mm-prev, .music-modal .mm-actions .mm-next { width:44px; height:44px; border-radius:12px; border:1px solid rgba(24,191,239,0.45); background: rgba(24,191,239,0.2); color:#eaf7ff; font-weight:900; cursor:pointer; box-shadow: 0 8px 20px rgba(24,191,239,0.18); display:inline-flex; align-items:center; justify-content:center; }
.music-modal .mm-actions .mm-prev:hover, .music-modal .mm-actions .mm-next:hover { filter: brightness(1.1); }
.music-modal .mm-actions .mm-play { display:inline-flex; align-items:center; gap:10px; background: linear-gradient(90deg,#18bfef,#9a6cff); color:#07131a; border:none; font-weight:900; border-radius:999px; padding:12px 22px; box-shadow: 0 14px 36px rgba(24,191,239,0.28); cursor:pointer; font-size:1rem; letter-spacing:.2px; height:44px; }
.music-modal .mm-actions .mm-play::before { content:'▶'; display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px; line-height:1; }
.music-modal .mm-actions .mm-play.is-playing::before { content:'⏸'; }
.music-modal .mm-actions .mm-play:hover { filter: brightness(1.05); transform: translateY(-1px); }

@media (max-width: 860px){
  .music-modal .mm-dialog { grid-template-columns: 1fr; gap: 12px; width: min(96vw, 560px); }
}

/* Hover preview for album cover */
.music-preview { position: fixed; left: -9999px; top: -9999px; width: 220px; background: rgba(10,16,22,0.98); color:#eaf7ff; border:1px solid rgba(255,255,255,0.12); border-radius:12px; box-shadow:0 16px 40px rgba(0,0,0,0.45); padding:10px; z-index: 3000; opacity:0; transition: opacity .15s ease, transform .15s ease; transform: translateY(6px); pointer-events: none; }
.music-preview.visible { opacity:1; transform: translateY(0); }
.music-preview img { width:100%; height:140px; object-fit:cover; border-radius:8px; display:block; margin-bottom:8px; }
.music-preview .title { font-family:'Poppins',sans-serif; font-weight:900; margin-bottom:4px; }
.music-preview .desc { font-size:.9rem; opacity:.95; }

.contact-modern { position: relative; overflow: hidden; }
.contact-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap: 18px; }
.contact-card { background: rgba(12,18,26,0.6); border:1px solid rgba(255,255,255,0.1); border-radius: 14px; padding: 14px; box-shadow: 0 16px 40px rgba(0,0,0,0.28); }
.contact-card h3 { font-family:'Poppins',sans-serif; font-weight:900; margin-top:0; color:#eaf7ff; }
.contact-card p, .contact-card a { color:#cfe7f8; }
.contact-card .socials a { font-size:1.3rem; margin-right:10px; color:#d9f2ff; opacity:.9; }
.contact-card .socials a:hover { opacity:1; filter: drop-shadow(0 0 8px rgba(24,191,239,0.35)); }

#contact-form input, #contact-form textarea { 
  background: rgba(10,16,22,0.9); 
  color:#eaf7ff; 
  border:1px solid rgba(255,255,255,0.16); 
  border-radius:10px; 
  transition: border-color 0.3s ease, box-shadow 0.3s ease;
}
#contact-form input:focus, #contact-form textarea:focus {
  border-color: rgba(24,191,239,0.5);
  box-shadow: 0 0 0 2px rgba(24,191,239,0.1);
  outline: none;
}
#contact-form input.error, #contact-form textarea.error {
  border-color: rgba(255,71,87,0.6);
  box-shadow: 0 0 0 2px rgba(255,71,87,0.1);
}
#contact-form .button.primary { 
  background: linear-gradient(90deg,#18bfef,#9a6cff); 
  border:none; 
  color:#07131a; 
  font-weight:900; 
  border-radius:12px; 
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}
#contact-form .button.primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 25px rgba(24,191,239,0.3);
}
#contact-form .button.primary:disabled {
  opacity: 0.6;
  transform: none;
  cursor: not-allowed;
}
.cf-status { 
  margin-left: 10px; 
  color:#eaf7ff; 
  font-weight:700; 
  font-size: 0.9rem;
  transition: all 0.3s ease;
}
.cf-status-success { color: #2ed573 !important; }
.cf-status-error { color: #ff4757 !important; }
.cf-status-info { color: #3742fa !important; }
.field-error {
  color: #ff4757;
  font-size: 0.85rem;
  margin-top: 0.25rem;
  animation: fadeIn 0.3s ease;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-5px); }
  to { opacity: 1; transform: translateY(0); }
}

.contact-modern::before { content:''; position:absolute; inset:-20px -20px auto -20px; height:180px; background: radial-gradient(600px 200px at var(--mx,20%) 40%, rgba(24,191,239,0.18), transparent 60%), radial-gradient(600px 200px at calc(var(--mx,20%) + 30%) 70%, rgba(154,108,255,0.14), transparent 60%); pointer-events:none; filter: blur(10px); opacity:.9; border-radius:16px; }

.player-bar { position: fixed; left: 50%; transform: translate(-50%, 12px); bottom: 16px; width: min(980px, 94vw); 
  background: linear-gradient(180deg, rgba(12,18,26,0.86), rgba(12,18,26,0.92)); 
  border:1px solid rgba(24,191,239,0.18); border-radius: 16px; 
  box-shadow: 0 24px 60px rgba(0,0,0,0.55), inset 0 0 0 1px rgba(255,255,255,0.05);
  padding: 12px 14px; display:grid; grid-template-columns: 1fr 2fr 1fr; align-items:center; gap:12px; z-index: 2000; 
  opacity: 0; transition: opacity .28s ease, transform .28s ease; }
.player-bar.open { opacity: 1; transform: translate(-50%, 0); }
.player-bar .pb-left { display:flex; align-items:center; gap:12px; }
.player-bar .pb-cover { width:56px; height:56px; object-fit:cover; border-radius:10px; box-shadow: 0 10px 24px rgba(0,0,0,0.35); }
.player-bar .pb-title { font-family:'Poppins',sans-serif; font-weight:900; color:#eaf7ff; letter-spacing:.2px; }
.player-bar .pb-sub { color:#cfe7f8; font-size:.9rem; opacity:.9; }
.player-bar .pb-controls { display:flex; align-items:center; gap:10px; justify-content:center; }
.player-bar .pb-btn { background: rgba(24,191,239,0.16); border:1px solid rgba(24,191,239,0.45); color:#eaf7ff; border-radius:12px; width:40px; height:40px; display:inline-flex; align-items:center; justify-content:center; font-weight:900; cursor:pointer; box-shadow: 0 6px 14px rgba(0,0,0,0.25); transition: transform .15s ease, filter .2s ease, background .2s ease; }
.player-bar .pb-btn:hover { transform: translateY(-1px); filter: drop-shadow(0 0 10px rgba(24,191,239,0.35)); background: rgba(24,191,239,0.26); }
.player-bar .pb-btn.pb-play { width:48px; height:48px; border-radius:14px; background: linear-gradient(90deg,#18bfef,#9a6cff); color:#07131a; border:none; box-shadow: 0 10px 26px rgba(24,191,239,0.35); }
.player-bar .pb-btn.pb-play:hover { filter: brightness(1.05); }
.player-bar .pb-timeline { display:grid; grid-template-columns: auto 1fr auto; align-items:center; gap:10px; position: relative; padding-bottom: 12px; }
.player-bar .pb-wave { position:absolute; left: 56px; right: 56px; bottom: -2px; height: 22px; width: auto; opacity: .65; filter: drop-shadow(0 4px 10px rgba(24,191,239,.2)); }
/* Ensure no overlay blocks player buttons */
.player-toast { pointer-events: none !important; }
.player-bar .pb-time { color:#cfe7f8; font-variant-numeric: tabular-nums; font-weight:700; opacity:.9; }
.player-bar .pb-seek { width:100%; appearance:none; -webkit-appearance:none; height: 6px; border-radius: 999px; background: rgba(255,255,255,0.06); outline: none; background-image: linear-gradient(90deg,#18bfef,#9a6cff); background-size: var(--seek, 0%) 100%; background-repeat: no-repeat; }
.player-bar .pb-right { display:flex; align-items:center; gap:10px; justify-content:flex-end; }
.player-bar .pb-vol-label { color:#0c2317; background: linear-gradient(90deg,#13d67a,#b0ff66); border:1px solid rgba(19,214,122,0.6); border-radius:999px; padding:6px 10px; font-weight:900; letter-spacing:.2px; }
.player-bar .pb-vol { width:100%; max-width:200px; appearance:none; -webkit-appearance:none; height: 6px; border-radius: 999px; background: rgba(255,255,255,0.06); outline: none; background-image: linear-gradient(90deg,#13d67a,#b0ff66); background-size: var(--vol, 90%) 100%; background-repeat: no-repeat; border: 1px solid rgba(19,214,122,0.55); }
.player-bar .pb-seek::-webkit-slider-thumb, .player-bar .pb-vol::-webkit-slider-thumb { -webkit-appearance:none; width: 16px; height: 16px; border-radius: 50%; background: #eaf7ff; border: 2px solid #18bfef; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }
.player-bar .pb-seek::-moz-range-thumb, .player-bar .pb-vol::-moz-range-thumb { width: 16px; height: 16px; border-radius: 50%; background: #eaf7ff; border: 2px solid #18bfef; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }

@media (max-width: 980px) {
  .player-bar { grid-template-columns: 1fr; row-gap:8px; }
  .player-bar .pb-right { order: 3; }
}

/* Normalize scale across pages: desktop base size */
@media (min-width: 981px) {
  html { font-size: 11pt !important; }
  .project-card img { transform: scale(0.95) !important; }
}
@media (min-width: 1280px) {
  html { font-size: 10pt !important; }
  .project-card img { transform: scale(0.9) !important; }
}
@media (min-width: 1681px) {
  html { font-size: 9pt !important; }
  .project-card img { transform: scale(0.85) !important; }
}

/* Fix projects page filter buttons - keep normal size */
.projects-controls .button.small {
  font-size: 0.8rem !important;
  padding: 0.4em 0.8em !important;
}

/* Fix navigation icons overlap */
#nav .icons a {
  padding: 8px !important;
  margin: 0 2px !important;
}

/* Professional Profile Section */
.profile-container {
  display: grid;
  gap: 3rem;
  margin-top: 2rem;
}

.profile-section h3 {
  color: #18bfef;
  font-size: 1.4rem;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.profile-section h3 i {
  font-size: 1.2rem;
}

/* Timeline Styles */
.timeline {
  position: relative;
  padding-left: 2rem;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 1rem;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(180deg, #18bfef, #9a6cff);
  border-radius: 1px;
}

.timeline-item {
  position: relative;
  margin-bottom: 2rem;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 1.5rem;
  margin-left: 1rem;
  transition: all 0.3s ease;
}

.timeline-item:hover {
  background: rgba(255,255,255,0.05);
  border-color: rgba(24,191,239,0.2);
  transform: translateX(4px);
}

.timeline-item.active {
  border-color: rgba(24,191,239,0.4);
  background: rgba(24,191,239,0.05);
}

.timeline-marker {
  position: absolute;
  left: -2.5rem;
  top: 1.5rem;
  width: 12px;
  height: 12px;
  background: #18bfef;
  border: 3px solid #0c1218;
  border-radius: 50%;
  box-shadow: 0 0 0 3px rgba(24,191,239,0.2);
}

.timeline-item.active .timeline-marker {
  background: #9a6cff;
  box-shadow: 0 0 0 3px rgba(154,108,255,0.3);
}

.timeline-header {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: 0.75rem;
}

.timeline-logo {
  width: 48px;
  height: 48px;
  border-radius: 8px;
  object-fit: cover;
  border: 2px solid rgba(255,255,255,0.1);
}

.timeline-info h4 {
  color: #e8f6fb;
  font-size: 1.1rem;
  margin: 0 0 0.25rem 0;
  font-weight: 600;
}

.timeline-institution {
  color: #18bfef;
  font-weight: 500;
  font-size: 0.9rem;
  display: block;
  margin-bottom: 0.25rem;
}

.timeline-period {
  color: #a9adb8;
  font-size: 0.85rem;
  font-weight: 400;
}

.timeline-desc {
  color: #a9adb8;
  font-size: 0.9rem;
  line-height: 1.5;
  margin: 0;
}

/* Competencies Grid */
.competencies-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.competency-category {
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 1.5rem;
  transition: all 0.3s ease;
}

.competency-category:hover {
  background: rgba(255,255,255,0.05);
  border-color: rgba(24,191,239,0.15);
}

.competency-category h4 {
  color: #e8f6fb;
  font-size: 1rem;
  margin: 0 0 1rem 0;
  font-weight: 600;
}

.skill-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.skill-tag {
  padding: 0.4rem 0.8rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 500;
  border: 1px solid;
  transition: all 0.3s ease;
  cursor: default;
}

.skill-tag:hover {
  transform: translateY(-1px);
  filter: brightness(1.1);
}

.skill-tag.expert {
  background: linear-gradient(135deg, #13d67a, #b0ff66);
  color: #0c1f12;
  border-color: rgba(19, 214, 122, 0.4);
  font-weight: 600;
  box-shadow: 0 2px 8px rgba(19, 214, 122, 0.25);
}

.skill-tag.advanced {
  background: rgba(24, 191, 239, 0.15);
  color: #18bfef;
  border-color: rgba(24, 191, 239, 0.4);
  font-weight: 500;
  box-shadow: 0 2px 6px rgba(24, 191, 239, 0.2);
}

.skill-tag.intermediate {
  background: rgba(255, 165, 0, 0.15);
  color: #ffb366;
  border-color: rgba(255, 165, 0, 0.3);
  font-weight: 500;
  box-shadow: 0 2px 6px rgba(255, 165, 0, 0.15);
}

/* Specializations */
.specializations {
  display: grid;
  gap: 1.5rem;
}

.specialization {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  padding: 1.5rem;
  transition: all 0.3s ease;
}

.specialization:hover {
  background: rgba(255,255,255,0.05);
  border-color: rgba(24,191,239,0.15);
  transform: translateY(-2px);
}

.spec-icon {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, #18bfef, #9a6cff);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.spec-content h4 {
  color: #e8f6fb;
  font-size: 1.1rem;
  margin: 0 0 0.5rem 0;
  font-weight: 600;
}

.spec-content p {
  color: #a9adb8;
  font-size: 0.9rem;
  line-height: 1.5;
  margin: 0;
}

/* Profile Footer */
.profile-footer {
  margin-top: 3rem;
  text-align: center;
}

.contact-prompt {
  background: linear-gradient(135deg, rgba(24,191,239,0.1), rgba(154,108,255,0.1));
  border: 1px solid rgba(24,191,239,0.2);
  border-radius: 16px;
  padding: 2rem;
  max-width: 600px;
  margin: 0 auto;
}

.contact-prompt p {
  color: #e8f6fb;
  font-size: 1.1rem;
  margin: 0 0 1.5rem 0;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .timeline {
    padding-left: 1.5rem;
  }

  .timeline-item {
    margin-left: 0.5rem;
    padding: 1rem;
  }

  .timeline-marker {
    left: -2rem;
  }

  .timeline-header {
    flex-direction: column;
    gap: 0.5rem;
  }

  .timeline-logo {
    width: 40px;
    height: 40px;
  }

  .competencies-grid {
    grid-template-columns: 1fr;
  }

  .specialization {
    flex-direction: column;
    text-align: center;
  }
}

/* Page fade transitions */
#wrapper { transition: opacity 180ms ease, transform 180ms ease; will-change: opacity, transform; }
body.page-exit #wrapper { opacity: 0; transform: translateY(4px); }
body.page-enter #wrapper { opacity: 0; transform: translateY(4px); }

@media (prefers-reduced-motion: reduce) {
  .reveal-enabled [data-reveal] { transition: none !important; transform: none !important; }
  #wrapper { transition: none !important; }
}

/* Mobile: hard-disable page fade transitions and progress bar to avoid flicker */
@media (max-width: 736px) {
  #wrapper { transition: none !important; }
  body.page-exit #wrapper, body.page-enter #wrapper { opacity: 1 !important; transform: none !important; }
  .page-progress { display: none !important; }
}

/* Interactive background glow */
.bg-glow {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(600px 600px at var(--mx,50%) var(--my,50%), rgba(24,191,239,0.06), transparent 40%),
    radial-gradient(1000px 1000px at calc(var(--mx,50%) + 10%) calc(var(--my,50%) + 20%), rgba(88, 182, 255, 0.04), transparent 50%);
}

/* Animated background gradient */
.bg-gradient {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: 
    radial-gradient(1400px 900px at 10% 8%, rgba(18,32,44,0.32), transparent 60%),
    radial-gradient(1200px 800px at 85% 20%, rgba(14,26,38,0.24), transparent 65%),
    radial-gradient(1000px 700px at 50% 100%, rgba(10,18,28,0.18), transparent 60%),
    linear-gradient(180deg, #06090d 0%, #080e13 50%, #0a1117 100%);
  animation: bgDrift 28s ease-in-out infinite alternate;
}
@keyframes bgDrift {
  0% { filter: hue-rotate(0deg) saturate(1.05); }
  100% { filter: hue-rotate(18deg) saturate(1.18); }
}

/* Floating blurred orbs */
.bg-orbs { position: fixed; inset: 0; z-index: 0; pointer-events: none; }

/* Audio-themed waves layer */
.bg-waves {
  position: fixed; inset: 0; z-index: 0; pointer-events: none; opacity: 0.12; mix-blend-mode: screen;
  -webkit-mask-image: linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(0,0,0,0.0) 82%);
  mask-image: linear-gradient(180deg, rgba(0,0,0,1) 0%, rgba(0,0,0,0.0) 82%);
}

/* Equalizer bars overlay */
.bg-eq { position: fixed; inset: 0; z-index: 0; pointer-events: none; opacity: 0.06; mix-blend-mode: soft-light; width: 150% !important; left: -25% !important; }

/* Click visual audio-ripple */
.click-fx { position: fixed; inset: 0; z-index: 100; pointer-events: none; overflow: hidden; }
.click-fx .ripple {
  position: absolute; width: 10px; height: 10px; border-radius: 50%;
  border: 1.5px solid rgba(24,191,239,0.45);
  box-shadow: 0 0 10px rgba(24,191,239,0.25);
  transform: translate(-50%, -50%) scale(1);
  animation: rippleOut 520ms ease-out forwards;
}
.click-fx .r2 { border-color: rgba(154,108,255,0.4); animation-delay: 50ms; }
.click-fx .r3 { border-color: rgba(40,120,160,0.4); animation-delay: 100ms; }
@keyframes rippleOut { to { transform: translate(-50%, -50%) scale(10); opacity: 0; } }
.bg-orbs .orb {
  position: absolute; width: 420px; height: 420px; border-radius: 50%;
  filter: blur(60px); opacity: 0.18; mix-blend-mode: screen;
  background: radial-gradient(circle at 30% 30%, rgba(24,191,239,0.85), rgba(24,191,239,0) 60%);
  animation: orbFloat 26s ease-in-out infinite;
}
.bg-orbs .orb.blue { background: radial-gradient(circle at 30% 30%, rgba(88,182,255,0.85), rgba(88,182,255,0) 60%); }
.bg-orbs .orb.cyan { background: radial-gradient(circle at 30% 30%, rgba(24,191,239,0.85), rgba(24,191,239,0) 60%); }
.bg-orbs .orb.teal { background: radial-gradient(circle at 30% 30%, rgba(18,160,180,0.85), rgba(18,160,180,0) 60%); }
@keyframes orbFloat {
  0% { transform: translate(-10%, -10%) scale(1); }
  50% { transform: translate(6%, 4%) scale(1.05); }
  100% { transform: translate(-8%, 8%) scale(1); }
}

/* Top progress bar during page transition */
.page-progress {
  position: fixed;
  top: 0; left: 0; height: 3px; width: 0;
  background: linear-gradient(90deg, #18bfef, #5ad1ff);
  box-shadow: 0 0 12px rgba(24,191,239,0.6);
  z-index: 9999;
  transition: width 450ms ease;
}

/* Intro overlay */
.intro-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  background: radial-gradient(800px 800px at 50% 50%, rgba(10,16,22,0.8), rgba(10,16,22,0.95));
  display: flex;
  align-items: center;
  justify-content: center;
}
.intro-ring {
  position: relative;
  width: min(88vmin, 820px);
  height: min(88vmin, 820px);
  border-radius: 50%;
}
.intro-ring .items { position:absolute; inset:0; transform: rotate(0deg); animation: spinAccel 2200ms cubic-bezier(.25,.8,.35,1) forwards; }
.intro-ring .items.icons i { position:absolute; font-size: min(6vmin, 56px); color:#d4f3ff; text-shadow:0 6px 18px rgba(0,0,0,0.45); opacity:0.9; }
@keyframes spinAccel { to { transform: rotate(360deg); } }
.intro-ring .items img { position: absolute; width: 16%; height: 16%; object-fit: cover; border-radius: 10px; box-shadow: 0 10px 24px rgba(0,0,0,0.35); z-index: 1; }
.intro-title { position: absolute; inset: 0; display:flex; align-items:center; justify-content:center; color:#eaf7ff; font-family: 'Outfit', sans-serif; font-weight:800; letter-spacing:0.22em; text-transform:uppercase; font-size: clamp(18px, 3vmin, 28px); text-shadow:0 2px 10px rgba(0,0,0,0.45); z-index: 2; animation: titleIn 900ms ease-out both; }
@keyframes titleIn { from { opacity: 0; transform: scale(0.96); letter-spacing: 0.4em; } to { opacity: 1; transform: scale(1); letter-spacing: 0.18em; } }

/* Intro subtitle sequence */
.intro-sub { position:absolute; left:0; right:0; bottom: -8%; display:flex; gap:10px; justify-content:center; font-family:'Inter',sans-serif; font-weight:600; color:#cfefff; text-shadow:0 2px 8px rgba(0,0,0,0.35); }
/* Mobile: ensure ring isn’t too narrow */
@media (max-width: 480px) {
  .intro-ring { width: 92vmin; height: 92vmin; }
  .intro-ring .items.icons i { font-size: min(9vmin, 58px); }
}
.intro-sub span { opacity:0; transform: translateY(8px); animation: subIn 600ms ease forwards; }
.intro-sub span:nth-child(1) { animation-delay: 550ms; }
.intro-sub span:nth-child(2) { animation-delay: 900ms; }
.intro-sub span:nth-child(3) { animation-delay: 1250ms; }
@keyframes subIn { to { opacity:1; transform: translateY(0); } }
.intro-fade { animation: overlayFade 600ms ease forwards; }
@keyframes overlayFade { to { opacity: 0; visibility: hidden; } }

/* Disable theme's built-in background layer */
#wrapper > .bg { display: none !important; background: none !important; }

/* Lock content visibility during intro */
body.intro-lock #wrapper { opacity: 0 !important; pointer-events: none; }

/* --- Mobile / Android tap reliability fixes ---------------------------------- */
/* Some Android WebView/Chrome builds mis-detect taps when decorative layers or
   transforms overlap. Force interactive layers above backgrounds and clarify
   touch behavior. */
@media (max-width: 980px) {
  /* Ensure main UI stacks above decorative layers */
  #wrapper, #nav, header, main, footer, .player-bar, .music-page, .post { position: relative; z-index: 10; }
  /* Defensive: reinforce non-interactive backgrounds */
  .bg-gradient, .bg-orbs, .bg-waves, .bg-eq, .bg-glow { pointer-events: none !important; }
  /* Prevent tap delay / improve gesture detection */
  a, button, .button, [role="button"], input, select, textarea { touch-action: manipulation; -webkit-tap-highlight-color: rgba(255,255,255,0.15); }
  /* Slider nav hit-area enlargement */
  .slider-nav { min-width: 44px; min-height: 44px; display:flex; align-items:center; justify-content:center; }
  /* Avoid accidental text selection blocking taps */
  body { -webkit-user-select: none; user-select: none; }
  /* Re-enable selectable text for main content and inputs */
  #main, #main p, #main h1, #main h2, #main h3, input, textarea { -webkit-user-select: text; user-select: text; }
}

/* Larger tap targets globally for critical controls */
.slider-nav, .pb-btn, .pb-play, .pb-next, .pb-prev { touch-action: manipulation; }

/* Fix potential stacking issues where ripple container could overlap controls */
.click-fx { z-index: 5; }
#wrapper, .player-bar { z-index: 10; }

/* High-contrast primary buttons (prevent blending with background) */
.actions.special .button,
.button.primary {
  background: #18bfef;
  color: #0d141a !important;
  border: none;
}
.actions.special .button:hover,
.button.primary:hover {
  background: #39c9f2;
}

/* Explore More peek animation */
.explore-more {
  position: relative;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(24,191,239,0.08), rgba(24,191,239,0.02) 40%, transparent 100%);
  border: 1px solid rgba(56, 62, 73, 0.6);
  border-radius: 12px;
}
/* Ensure Explore More CTA area stacks correctly and doesn't duplicate */
.explore-more .actions.special { display:flex; justify-content:center; }
.explore-more .hero-cta { display:none; }
.explore-more .section-pills { margin-top: 0.75rem; }

/* New peek stage: fan-out stack */
.explore-more .peek-stage {
  position: relative;
  height: 140px;
  margin-top: 0.5rem;
}
.explore-more .peek-stage img {
  position: absolute;
  top: 18px;
  left: 50%;
  width: 180px;
  height: 110px;
  object-fit: cover;
  border-radius: 10px;
  transform-origin: center 80%;
  transform: translateX(-50%) translateY(6px) rotate(0deg) scale(0.98);
  box-shadow: 0 16px 30px rgba(0,0,0,0.35);
  opacity: 0;
  transition: opacity 380ms ease, transform 500ms cubic-bezier(.2,.8,.2,1);
}
.explore-more:hover .peek-stage img { opacity: 1; }
.explore-more .peek-stage img:nth-child(1) { transform: translateX(-120%) translateY(8px) rotate(-8deg) scale(0.96); }
.explore-more .peek-stage img:nth-child(2) { transform: translateX(-60%) translateY(0) rotate(-4deg) scale(0.98); }
.explore-more .peek-stage img:nth-child(3) { transform: translateX(-50%) translateY(-4px) rotate(0deg) scale(1); }
.explore-more .peek-stage img:nth-child(4) { transform: translateX(+10%) translateY(0) rotate(4deg) scale(0.98); }
.explore-more .peek-stage img:nth-child(5) { transform: translateX(+70%) translateY(8px) rotate(8deg) scale(0.96); }
.explore-more:hover .peek-stage img:nth-child(1) { transition-delay: 40ms; }
.explore-more:hover .peek-stage img:nth-child(2) { transition-delay: 90ms; }
.explore-more:hover .peek-stage img:nth-child(3) { transition-delay: 140ms; }
.explore-more:hover .peek-stage img:nth-child(4) { transition-delay: 190ms; }
.explore-more:hover .peek-stage img:nth-child(5) { transition-delay: 240ms; }

/* Section pills (quick nav under the top menu) */
.section-pills {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 0.75rem auto 0;
}
.section-pills a {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  color: #e8f6fb !important;
  transition: background 200ms ease, transform 150ms ease, border-color 200ms ease;
  white-space: nowrap;
}
.section-pills a:hover {
  background: rgba(24,191,239,0.18);
  border-color: rgba(24,191,239,0.55);
  transform: translateY(-1px);
}
/* Prevent fontawesome pseudo from overlapping in pills */
.section-pills a.icon:before { display: none !important; }
.section-pills a .label, .section-pills a span { display: inline; position: static; clip: auto; width: auto; height: auto; }

/* Reveal-on-scroll animations: default visible; hide only when JS enables */
.reveal-enabled [data-reveal] {
  opacity: 0;
  transform: translateY(24px) scale(.985);
  transition: opacity 600ms cubic-bezier(.2,.8,.2,1), transform 600ms cubic-bezier(.2,.8,.2,1);
  transition-delay: var(--reveal-delay, 0s);
}

.reveal-enabled [data-reveal].in-view {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Global scale for section headings (excluding hero) */
#main > section.post header.major h2 { font-family:'Outfit',sans-serif; font-weight:900; letter-spacing:.5px; font-size: clamp(1.2rem, 2.4vw, 1.9rem); }
#main > section.post header.major p { font-size: clamp(.86rem, 1.2vw, .96rem); }

/* Slightly reduce spacing below section headers */
#main > section.post header.major { margin-bottom: 1.1rem; }

/* Micro-interactions */
.button {
  transition: transform 150ms ease, box-shadow 200ms ease, background-color 200ms ease;
}
.button:hover, .button:focus {
  transform: translateY(-1px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.2);
}

#nav .icons a, .icons.alt a {
  transition: transform 150ms ease, color 200ms ease;
}
#nav .icons a:hover, .icons.alt a:hover {
  transform: scale(1.08);
}

.project-card {
  transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease;
}
.project-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 14px 28px rgba(0,0,0,0.25);
  border-color: #4a5160;
}

/* Capability card icons */
.project-card h3 .icon {
  margin-right: 8px;
  color: #18bfef;
}

/* Theme toggle styling */
.theme-toggle {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
}
.theme-toggle .label { font-size: 0.9rem; }

/* Light/Dark themes */
body[data-theme="dark"] #wrapper { background-color: #1a2027; }
body[data-theme="dark"] #main { background-color: #1a2027; }
body[data-theme="dark"] #main h1, body[data-theme="dark"] #main h2, body[data-theme="dark"] #main h3 { color: #ffffff; }
body[data-theme="dark"] #main p { color: #c0c0c0; }
body[data-theme="dark"] .project-card { background-color: #2a313a; }
body[data-theme="dark"] #footer { background-color: #161a1f; }

body[data-theme="light"] #wrapper { background-color: #f3f5f7; }
body[data-theme="light"] #main { background-color: #ffffff; }
body[data-theme="light"] #main h1, body[data-theme="light"] #main h2, body[data-theme="light"] #main h3 { color: #212931; }
body[data-theme="light"] #main p { color: #444; }
body[data-theme="light"] .project-card { background-color: #ffffff; border-color: #e3e6ea; }
body[data-theme="light"] #footer { background-color: #eef1f4; color: #333; }

/* Project pages hero images smaller */
.image.main img { max-width: 680px; margin: 0 auto; display: block; }
.post .image.fit img { max-width: 680px; margin-left: auto; margin-right: auto; }
@media (max-width: 980px) {
  .image.main img, .post .image.fit img { max-width: 90%; }
}

/* Final hard overrides: never paint section backgrounds from theme */
body[data-theme="dark"] #main,
body[data-theme="light"] #main { background: transparent !important; }
body[data-theme="dark"] #wrapper,
body[data-theme="light"] #wrapper { background: transparent !important; }

/* Capabilities as compact pills */
.capabilities-pills { margin: .2rem auto .2rem; }

/* (Removed) Hiding #nav on mobile caused missing navigation on pages without hamburger init */

/*
    Performance Fix: Replace JS wave animation with a hardware-accelerated CSS animation.
    This creates a gentle, back-and-forth motion for the waves, which is
    much more performant than recalculating SVG paths on every frame.
*/
@keyframes wave-move {
    0% {
        transform: translateX(0);
    }
    50% {
        transform: translateX(-20px);
    }
    100% {
        transform: translateX(0);
    }
}

.bg-waves path:nth-of-type(1) {
    animation: wave-move 10s ease-in-out infinite;
}

.bg-waves path:nth-of-type(2) {
    animation: wave-move 12s ease-in-out infinite reverse;
}

.bg-waves path:nth-of-type(3) {
    animation: wave-move 15s ease-in-out infinite;
}

.button.disabled {
    pointer-events: none;
    opacity: 0.5;
}